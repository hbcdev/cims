* *********************************************************
* *
* * 30/01/00               CIMS.DBC               14:07:50
* *
* *********************************************************
* *
* * Description:
* * This program was automatically generated by GENDBC
* * Version 2.26.67
* *
* *********************************************************
DisplayStatus([Creating database...])
CLOSE DATA ALL
CREATE DATABASE 'CIMS.DBC'
DisplayStatus([Creating table NOTIFY...])
MakeTable_NOTIFY()
DisplayStatus([Creating table CLAIM...])
MakeTable_CLAIM()
DisplayStatus([Creating table CLAIM_LINE...])
MakeTable_CLAIM_LINE()
DisplayStatus([Creating table CLAIM_LINE_ITEMS...])
MakeTable_CLAIM_LINE_ITEMS()
DisplayStatus([Creating table SETUP...])
MakeTable_SETUP()
DisplayStatus([Creating table CLAIM_SETTLEMENT...])
MakeTable_CLAIM_SETTLEMENT()
DisplayStatus([Creating table NOTIFY_PERIOD...])
MakeTable_NOTIFY_PERIOD()
DisplayStatus([Creating table NOTIFY_PERIOD_ITEMS...])
MakeTable_NOTIFY_PERIOD_ITEMS()
DisplayStatus([Creating table NOTIFY_PERIOD_LINES...])
MakeTable_NOTIFY_PERIOD_LINES()
DisplayStatus([Creating table FUND...])
MakeTable_FUND()
DisplayStatus([Creating table MEMBER...])
MakeTable_MEMBER()
DisplayStatus([Creating table SURGICAL_FEE...])
MakeTable_SURGICAL_FEE()
DisplayStatus([Creating table PRODUCT...])
MakeTable_PRODUCT()
DisplayStatus([Creating table PLAN2CAT...])
MakeTable_PLAN2CAT()
DisplayStatus([Creating table CATEGORY...])
MakeTable_CATEGORY()
DisplayStatus([Creating table TIMS043...])
MakeTable_TIMS043()
DisplayStatus([Creating table PROD_EXCLUSION...])
MakeTable_PROD_EXCLUSION()
DisplayStatus([Creating table PLAN...])
MakeTable_PLAN()
DisplayStatus([Creating table TIMS05...])
MakeTable_TIMS05()
DisplayStatus([Creating table TEMPLATE...])
MakeTable_TEMPLATE()
DisplayStatus([Creating table PAY_TYPE...])
MakeTable_PAY_TYPE()
DisplayStatus([Creating table TITLE...])
MakeTable_TITLE()
DisplayStatus([Creating table OCCUPATION...])
MakeTable_OCCUPATION()
DisplayStatus([Creating table ITEM_GROUP...])
MakeTable_ITEM_GROUP()
DisplayStatus([Creating table ICD9...])
MakeTable_ICD9()
DisplayStatus([Creating table ICD10...])
MakeTable_ICD10()
DisplayStatus([Creating table ITEM...])
MakeTable_ITEM()
DisplayStatus([Creating table AGE_RANGE...])
MakeTable_AGE_RANGE()
DisplayStatus([Creating table USERS...])
MakeTable_USERS()
DisplayStatus([Creating table PROVIDER...])
MakeTable_PROVIDER()
DisplayStatus([Creating table PROV_PRICE...])
MakeTable_PROV_PRICE()
DisplayStatus([Creating view NOTIFYBYNO...])
MakeView_NOTIFYBYNO()
DisplayStatus([Creating view PRODBYCODE...])
MakeView_PRODBYCODE()
DisplayStatus([Creating view BENEFIT...])
MakeView_BENEFIT()
DisplayStatus([Creating view CUSTBYID...])
MakeView_CUSTBYID()
DisplayStatus([Creating view CUSTBYFUND...])
MakeView_CUSTBYFUND()
DisplayStatus([Creating view CLAIMVIEW...])
MakeView_CLAIMVIEW()
DisplayStatus([Creating view CLAIMBYCUST...])
MakeView_CLAIMBYCUST()
DisplayStatus([Creating view CLAIMLBYCUST...])
MakeView_CLAIMLBYCUST()
DisplayStatus([Creating view FAXCLAIM...])
MakeView_FAXCLAIM()
DisplayStatus([Creating view CUSTBYOPD...])
MakeView_CUSTBYOPD()
DisplayStatus([Creating view PERIOD...])
MakeView_PERIOD()
DisplayStatus([Creating persistent relations...])
MakeRelation_1()
MakeRelation_2()
MakeRelation_3()
MakeRelation_4()
MakeRelation_5()
MakeRelation_6()
MakeRelation_7()
MakeRelation_8()
MakeRelation_9()
MakeRelation_10()
MakeRelation_11()
MakeRelation_12()
MakeRelation_13()
MakeRelation_14()
MakeRelation_15()
DisplayStatus([Finished.])


********* Procedure Re-Creation *********
IF !FILE([GENHIPSDATA.krt])
    ? [Warning! No Procedure File Found!]
ELSE
	CLOSE DATABASE
	USE 'CIMS.DBC'
	g_SetSafety = SET('SAFETY')
	SET SAFETY OFF
	LOCATE FOR Objectname = 'StoredProceduresSource'
	IF FOUND()
        APPEND MEMO Code FROM [GENHIPSDATA.krt] OVERWRITE
	    REPLACE Code WITH SUBSTR(Code, 70, 9073)
	ENDIF
	LOCATE FOR Objectname = 'StoredProceduresObject'
	IF FOUND()
        APPEND MEMO Code FROM [GENHIPSDATA.krt] OVERWRITE
        REPLACE Code WITH SUBSTR(Code, 9143)
	ENDIF
    SET SAFETY &g_SetSafety
	USE
	OPEN DATABASE [CIMS.DBC]
ENDIF

FUNCTION MakeTable_NOTIFY
***** Table setup for NOTIFY *****
CREATE TABLE 'CIMS01.DBF' NAME 'NOTIFY' (NOTIFY_NO C(10) NOT NULL DEFAULT newid(), ;
                     NOTIFY_DATE T NOT NULL DEFAULT DATETIME(), ;
                     NOTIFY_TYPE N(1, 0) NOT NULL, ;
                     TREATMENT_TYPE N(1, 0) NOT NULL, ;
                     OPDCNT N(3, 0) NOT NULL, ;
                     FUND_ID I NOT NULL, ;
                     CUSTOMER_ID C(8) NOT NULL, ;
                     POLICY_NO C(20) NOT NULL, ;
                     PLAN_ID C(8) NOT NULL, ;
                     PROV_ID C(8) NOT NULL, ;
                     PROV_NAME C(30) NOT NULL, ;
                     PROV_SENDER C(30) NOT NULL, ;
                     PROV_DEP C(30) NOT NULL, ;
                     HN_NO C(8) NOT NULL, ;
                     AN_NO C(8) NOT NULL, ;
                     ADMIS_DATE T NOT NULL, ;
                     ILLNESS C(8) NOT NULL, ;
                     BASIC_DIAG M NOT NULL, ;
                     PROPOSALS N(1, 0) NOT NULL, ;
                     NOTIFY_NOTES M NOT NULL, ;
                     RECORD_BY C(8) NOT NULL, ;
                     RECORD_DATE T NOT NULL, ;
                     CANCEL_BY C(8) NOT NULL, ;
                     CANCEL_DATE T NOT NULL, ;
                     CANCEL_NOTE M NOT NULL, ;
                     STATUS C(10) NOT NULL, ;
                     L_USER C(8) NOT NULL, ;
                     L_UPDATE T NOT NULL)

***** Create each index for NOTIFY *****
SET COLLATE TO 'MACHINE'
INDEX ON NOTIFY_DATE TAG DATE
INDEX ON CUSTOMER_ID TAG CUSTOMER_I
ALTER TABLE 'NOTIFY' ADD PRIMARY KEY NOTIFY_NO TAG NO
INDEX ON FUND_ID TAG FUND_ID
INDEX ON ILLNESS TAG ILLNESS
INDEX ON ADMIS_DATE TAG ADMIS_DATE

***** Change properties for NOTIFY *****
DBSETPROP('NOTIFY.NOTIFY_TYPE', 'Field', 'Comment', "1 = OPD" + CHR(13) + "2 = IPD" + CHR(13) + "3 = DENTAL" + CHR(13) + "4 = MATERITY")
ENDFUNC

FUNCTION MakeTable_CLAIM
***** Table setup for CLAIM *****
CREATE TABLE 'CIMS02.DBF' NAME 'CLAIM' (NOTIFY_NO C(10) NOT NULL, ;
                    NOTIFY_DATE T NOT NULL, ;
                    CLAIM_ID C(10) NOT NULL DEFAULT newid(), ;
                    TYPE_CLAIM N(1, 0) NOT NULL, ;
                    CLAIM_TYPE N(1, 0) NOT NULL, ;
                    FOLLOWUP L NOT NULL, ;
                    CLAIM_DATE T NOT NULL DEFAULT DATETIME(), ;
                    CUSTOMER_ID C(8) NOT NULL, ;
                    PLAN C(8) NOT NULL, ;
                    CLAIM_NO C(15) NOT NULL, ;
                    REFNO C(10) NOT NULL, ;
                    REF_DATE T NOT NULL DEFAULT DATETIME(), ;
                    PROV_ID C(8) NOT NULL, ;
                    ADMIS_DATE T NOT NULL, ;
                    DISC_DATE T NOT NULL, ;
                    AN_NO C(10) NOT NULL, ;
                    HN_NO C(10) NOT NULL, ;
                    DOCTOR_NOTES M NOT NULL, ;
                    DOCTOR_NAME C(30) NOT NULL, ;
                    DOCTOR_MAJOR C(20) NOT NULL, ;
                    DIAG_PLAN M NOT NULL, ;
                    ILLNESS1 C(8) NOT NULL, ;
                    ILLNESS2 C(8) NOT NULL, ;
                    ILLNESS3 C(8) NOT NULL, ;
                    SENDER C(30) NOT NULL, ;
                    PROV_DEP C(30) NOT NULL, ;
                    FCHARGE Y NOT NULL, ;
                    FBENFPAID Y NOT NULL, ;
                    FREMAIN Y NOT NULL, ;
                    SCHARGE Y NOT NULL, ;
                    SBENFPAID Y NOT NULL, ;
                    FNOTE M NOT NULL, ;
                    SREMAIN Y NOT NULL, ;
                    SNOTE M NOT NULL, ;
                    ABENFPAID Y NOT NULL, ;
                    AREMAIN Y NOT NULL, ;
                    ANOTE M NOT NULL, ;
                    RESULT C(4) NOT NULL, ;
                    FAX_BY C(8) NOT NULL, ;
                    FAX_DATE T NOT NULL, ;
                    ASSESSOR_BY C(8) NOT NULL, ;
                    ASSESSOR_DATE T NOT NULL, ;
                    AUDIT_BY C(8) NOT NULL, ;
                    AUDIT_DATE T NOT NULL, ;
                    PAYMENT_TYPE C(1) NOT NULL, ;
                    CHQNO C(20) NOT NULL, ;
                    BANK C(3) NOT NULL, ;
                    STATUS C(3) NOT NULL, ;
                    L_USER C(8) NOT NULL, ;
                    L_UPDATE T NOT NULL)

***** Create each index for CLAIM *****
SET COLLATE TO 'MACHINE'
INDEX ON CLAIM_DATE TAG CLAIM_DATE
INDEX ON CUSTOMER_ID TAG CUSTOMER_I
ALTER TABLE 'CLAIM' ADD PRIMARY KEY CLAIM_ID TAG CLAIM_ID
INDEX ON NOTIFY_NO TAG NOTIFY_NO
INDEX ON CLAIM_NO TAG CLAIM_NO
INDEX ON CUSTOMER_ID+ILLNESS1 TAG HASDIAGS

***** Change properties for CLAIM *****
ENDFUNC

FUNCTION MakeTable_CLAIM_LINE
***** Table setup for CLAIM_LINE *****
CREATE TABLE 'CIMS021.DBF' NAME 'CLAIM_LINE' (CLAIM_ID C(10) NOT NULL, ;
                         CAT_ID C(8) NOT NULL, ;
                         CAT_CODE C(10) NOT NULL, ;
                         DESCRIPTION C(40) NOT NULL, ;
                         SERVICE_TYPE C(1) NOT NULL, ;
                         SERV_COVER N(3, 0) NOT NULL, ;
                         BENF_COVER Y NOT NULL, ;
                         SERVICE_USED N(3, 0) NOT NULL, ;
                         BENEFIT_PAID Y NOT NULL, ;
                         FADMIS N(3, 0) NOT NULL, ;
                         FCHARGE Y NOT NULL, ;
                         FSERVICE N(3, 0) NOT NULL, ;
                         FPAID Y NOT NULL, ;
                         FREMAIN Y NOT NULL, ;
                         SADMIS N(3, 0) NOT NULL, ;
                         SCHARGE Y NOT NULL, ;
                         SPAID Y NOT NULL, ;
                         SREMAIN Y NOT NULL, ;
                         APAID Y NOT NULL, ;
                         AREMAIN Y NOT NULL, ;
                         TOTAL_FEE N(6, 2) NOT NULL, ;
                         DUEFOLLOWUP D NOT NULL, ;
                         DUEPERIOD D NOT NULL, ;
                         FEE L NOT NULL, ;
                         ITEM_GRP C(30) NOT NULL, ;
                         GROUP C(2) NOT NULL, ;
                         SUBSERVICE N(3, 0) NOT NULL, ;
                         SUBPAID Y NOT NULL, ;
                         FNOTE C(80) NOT NULL, ;
                         SNOTE C(80) NOT NULL, ;
                         ANOTE C(80) NOT NULL, ;
                         L_USER C(8) NOT NULL, ;
                         L_UPDATE T NOT NULL)

***** Create each index for CLAIM_LINE *****
SET COLLATE TO 'MACHINE'
INDEX ON CAT_ID TAG CAT_ID
INDEX ON CLAIM_ID TAG CLAIM_ID
ALTER TABLE 'CLAIM_LINE' ADD PRIMARY KEY CLAIM_ID+CAT_ID TAG CLAIM_CAT

***** Change properties for CLAIM_LINE *****
DBSETPROP('CLAIM_LINE.SERVICE_TYPE', 'Field', 'Caption', "Per")
DBSETPROP('CLAIM_LINE.SERVICE_USED', 'Field', 'Comment', "ยอดเงินที่จ่ายจริง")
DBSETPROP('CLAIM_LINE.FADMIS', 'Field', 'Comment', "Fax Claim Total Admis")
DBSETPROP('CLAIM_LINE.FCHARGE', 'Field', 'Comment', "Fax Claim Charge")
DBSETPROP('CLAIM_LINE.FPAID', 'Field', 'Comment', "Fax Claim Benefit Paid")
DBSETPROP('CLAIM_LINE.SPAID', 'Field', 'Comment', "Assessor Claim Benefit Paid")
DBSETPROP('CLAIM_LINE.APAID', 'Field', 'Comment', "Audit Benefit Paid")
ENDFUNC

FUNCTION MakeTable_CLAIM_LINE_ITEMS
***** Table setup for CLAIM_LINE_ITEMS *****
CREATE TABLE 'CIMS022.DBF' NAME 'CLAIM_LINE_ITEMS' (CLAIM_ID C(10) NOT NULL, ;
                               CAT_ID C(8) NOT NULL, ;
                               ITEM_CODE C(8) NOT NULL, ;
                               ADMIS N(3, 0) NOT NULL, ;
                               CHARGE Y NOT NULL, ;
                               DISCOUNT N(6, 2) NOT NULL, ;
                               BENF_PAID Y NOT NULL, ;
                               CLIENT_PAID Y NOT NULL, ;
                               ABUSE N(1, 0) NOT NULL, ;
                               COMMENT C(60) NOT NULL, ;
                               FEE_RATE N(6, 2) NOT NULL, ;
                               L_USER C(8) NOT NULL, ;
                               L_UPDATE T NOT NULL)

***** Create each index for CLAIM_LINE_ITEMS *****
SET COLLATE TO 'MACHINE'
INDEX ON CAT_ID TAG CAT_ID
INDEX ON ITEM_CODE TAG ITEM_CODE
INDEX ON CLAIM_ID TAG CLAIM_ID
INDEX ON CLAIM_ID+CAT_ID TAG CLAIM_CAT

***** Change properties for CLAIM_LINE_ITEMS *****
DBSETPROP('CLAIM_LINE_ITEMS.FEE_RATE', 'Field', 'Comment', "กำหนดอัตราร้อยละ ค่าธรรมเนียมการผ่าตัด ")
ENDFUNC

FUNCTION MakeTable_SETUP
***** Table setup for SETUP *****
CREATE TABLE 'CIMS00.DBF' NAME 'SETUP' (KEYNAME C(8) NOT NULL, ;
                    KEYVALUE C(6) NOT NULL, ;
                    VALUE I NOT NULL)

***** Create each index for SETUP *****
SET COLLATE TO 'MACHINE'
INDEX ON KEYNAME TAG KEYNAME
INDEX ON ALLTRIM(KEYNAME)+KEYVALUE TAG KEYVALUE

***** Change properties for SETUP *****
ENDFUNC

FUNCTION MakeTable_CLAIM_SETTLEMENT
***** Table setup for CLAIM_SETTLEMENT *****
CREATE TABLE 'CIMS11.DBF' NAME 'CLAIM_SETTLEMENT' (FUND_ID I NOT NULL, ;
                               CODE C(4) NOT NULL, ;
                               DESCRIPTION C(40) NOT NULL)

***** Create each index for CLAIM_SETTLEMENT *****
SET COLLATE TO 'MACHINE'
INDEX ON STR(FUND_ID)+CODE TAG FUND_CODE
INDEX ON FUND_ID TAG FUND_ID

***** Change properties for CLAIM_SETTLEMENT *****
ENDFUNC

FUNCTION MakeTable_NOTIFY_PERIOD
***** Table setup for NOTIFY_PERIOD *****
CREATE TABLE 'CIMS011.DBF' NAME 'NOTIFY_PERIOD' (CUSTOMER_ID C(8) NOT NULL, ;
                            NOTIFY_NO C(10) NOT NULL, ;
                            NOTIFY_DATE T NOT NULL, ;
                            DIAGS C(8) NOT NULL, ;
                            CHARGE Y NOT NULL, ;
                            BENEFIT Y NOT NULL, ;
                            OVER Y NOT NULL, ;
                            DUE T NOT NULL, ;
                            L_USER C(8) NOT NULL, ;
                            L_UPDATE T NOT NULL)

***** Create each index for NOTIFY_PERIOD *****
SET COLLATE TO 'MACHINE'
INDEX ON CUSTOMER_ID TAG CUSTOMER_I
INDEX ON NOTIFY_NO TAG NOTIFY_NO
INDEX ON CUSTOMER_ID+DTOC(DUE) TAG CUSTDUE CANDIDATE

***** Change properties for NOTIFY_PERIOD *****
ENDFUNC

FUNCTION MakeTable_NOTIFY_PERIOD_ITEMS
***** Table setup for NOTIFY_PERIOD_ITEMS *****
CREATE TABLE 'CIMS0111.DBF' NAME 'NOTIFY_PERIOD_ITEMS' (NOTIFY_NO C(10) NOT NULL, ;
                                  CAT_ID C(8) NOT NULL, ;
                                  CAT_CODE C(8) NOT NULL, ;
                                  DESCRIPTION C(40) NOT NULL, ;
                                  BENF_COVER Y NOT NULL, ;
                                  SERV_COVER N(3, 0) NOT NULL, ;
                                  SERV_USED N(3, 0) NOT NULL, ;
                                  PER C(1) NOT NULL, ;
                                  CHARGE Y NOT NULL, ;
                                  BENEFIT Y NOT NULL, ;
                                  FEE_RATE N(6, 2) NOT NULL, ;
                                  ITEM_GRP C(30) NOT NULL, ;
                                  GROUP C(2) NOT NULL, ;
                                  FEE L NOT NULL)

***** Create each index for NOTIFY_PERIOD_ITEMS *****
SET COLLATE TO 'MACHINE'
INDEX ON NOTIFY_NO TAG NOTIFY_NO
INDEX ON NOTIFY_NO+CAT_ID TAG NOTIFY_CAT

***** Change properties for NOTIFY_PERIOD_ITEMS *****
ENDFUNC

FUNCTION MakeTable_NOTIFY_PERIOD_LINES
***** Table setup for NOTIFY_PERIOD_LINES *****
CREATE TABLE 'CIMS0112.DBF' NAME 'NOTIFY_PERIOD_LINES' (NOTIFY_NO C(10) NOT NULL, ;
                                  CLAIM_ID C(10) NOT NULL)

***** Create each index for NOTIFY_PERIOD_LINES *****
SET COLLATE TO 'MACHINE'
INDEX ON CLAIM_ID TAG CLAIM_ID
INDEX ON NOTIFY_NO TAG NOTIFY_NO
INDEX ON NOTIFY_NO+CLAIM_ID TAG NOTIFY_CLM

***** Change properties for NOTIFY_PERIOD_LINES *****
ENDFUNC

FUNCTION MakeTable_FUND
***** Table setup for FUND *****
CREATE TABLE 'TIMS01.DBF' NAME 'FUND' (FUND_ID I NOT NULL, ;
                   FUNDCODE C(3) NOT NULL, ;
                   NAME C(50) NOT NULL, ;
                   THAINAME C(60) NOT NULL, ;
                   DATE_ON D NOT NULL, ;
                   DATE_OFF D NOT NULL, ;
                   EXCLUSION M NOT NULL, ;
                   L_USER C(8) NOT NULL, ;
                   L_UPDATE T NOT NULL)

***** Create each index for FUND *****
SET COLLATE TO 'MACHINE'
INDEX ON FUND_ID TAG FUND_ID CANDIDATE
INDEX ON FUNDCODE TAG FUNDCODE CANDIDATE
INDEX ON NAME TAG NAME

***** Change properties for FUND *****
ENDFUNC

FUNCTION MakeTable_MEMBER
***** Table setup for MEMBER *****
CREATE TABLE 'TIMS02.DBF' NAME 'MEMBER' (CUSTOMER_ID C(8) NOT NULL, ;
                     FUND_ID I NOT NULL, ;
                     PRODUCT C(8) NOT NULL, ;
                     PLAN_ID C(8) NOT NULL, ;
                     POLICY_NO C(30) NOT NULL, ;
                     FAMILY_NO I NOT NULL, ;
                     NO_OF_PERS I NOT NULL, ;
                     TITLE C(4) NOT NULL, ;
                     NAME C(60) NOT NULL, ;
                     MIDDLENAME C(30) NOT NULL, ;
                     SURNAME C(60) NOT NULL, ;
                     CONTACT_NAME C(60) NOT NULL, ;
                     CONTACT_PHONE C(20) NOT NULL, ;
                     H_ADDR1 C(60) NOT NULL, ;
                     H_ADDR2 C(60) NOT NULL, ;
                     H_CITY C(30) NOT NULL, ;
                     H_PROVINCE C(20) NOT NULL, ;
                     H_POSTCODE C(5) NOT NULL, ;
                     H_COUNTRY C(30) NOT NULL, ;
                     H_PHONE C(15) NOT NULL, ;
                     WK_PHONE C(15) NOT NULL, ;
                     FAX C(15) NOT NULL, ;
                     MOBILE C(15) NOT NULL, ;
                     ACCESS_LVL C(1) NOT NULL, ;
                     L_ADDR1 C(70) NOT NULL, ;
                     L_ADDR2 C(60) NOT NULL, ;
                     L_CITY C(40) NOT NULL, ;
                     L_POSTCODE C(5) NOT NULL, ;
                     L_COUNTRY C(30) NOT NULL, ;
                     SEX C(1) NOT NULL, ;
                     OCCUPN_CODE C(8) NOT NULL, ;
                     BIRTH_DATE D NOT NULL, ;
                     AGE I NOT NULL, ;
                     EFFECTIVE T NOT NULL, ;
                     EXPIRY T NOT NULL, ;
                     MAIL_RETURN T NOT NULL, ;
                     PREMIUM Y NOT NULL, ;
                     EXCLUSION M NOT NULL, ;
                     AGENT C(8) NOT NULL, ;
                     AGENTCY C(8) NOT NULL, ;
                     PAY_FR C(1) NOT NULL, ;
                     STATUS C(1) NOT NULL, ;
                     RENEW N(2, 0) NOT NULL, ;
                     OLDPLAN C(8) NOT NULL, ;
                     PAY_STATUS C(2) NOT NULL, ;
                     L_USER C(8) NOT NULL, ;
                     L_UPDATE T NOT NULL)

***** Create each index for MEMBER *****
SET COLLATE TO 'MACHINE'
INDEX ON FUND_ID TAG FUND_ID
INDEX ON PRODUCT TAG PRODUCT
INDEX ON POLICY_NO TAG POLICY
INDEX ON ALLTRIM(POLICY_NO)+"-"+ALLTRIM(STR(FAMILY_NO))+"-"+ALLTRIM(STR(NO_OF_PERS)) TAG POLICY_NO
INDEX ON CUSTOMER_ID TAG CUSTOMER_I CANDIDATE
INDEX ON ALLTRIM(NAME)+" "+ALLTRIM(SURNAME) TAG NAME

***** Change properties for MEMBER *****
ENDFUNC

FUNCTION MakeTable_SURGICAL_FEE
***** Table setup for SURGICAL_FEE *****
CREATE TABLE 'TIMS03.DBF' NAME 'SURGICAL_FEE' (FUND_ID I NOT NULL, ;
                           ITEMCODE C(8) NOT NULL, ;
                           DESCRIPTION C(120) NOT NULL, ;
                           FEE N(6, 2) NOT NULL, ;
                           L_USER C(8) NOT NULL, ;
                           L_UPDATE T NOT NULL)

***** Create each index for SURGICAL_FEE *****
SET COLLATE TO 'MACHINE'
INDEX ON ITEMCODE TAG ITEMCODE
INDEX ON FUND_ID TAG FUND_ID
INDEX ON STR(FUND_ID)+ITEMCODE TAG FUNDFEE

***** Change properties for SURGICAL_FEE *****
ENDFUNC

FUNCTION MakeTable_PRODUCT
***** Table setup for PRODUCT *****
CREATE TABLE 'TIMS04.DBF' NAME 'PRODUCT' (FUND_ID I NOT NULL, ;
                      PROD_ID C(8) NOT NULL, ;
                      PROD_TITLE C(3) NOT NULL, ;
                      DESCRIPTION C(40) NOT NULL, ;
                      AGE_FROM N(3, 0) NOT NULL, ;
                      AGE_TO N(3, 0) NOT NULL, ;
                      GRACE N(3, 0) NOT NULL, ;
                      WAIT N(3, 0) NOT NULL, ;
                      ADMIS N(3, 0) NOT NULL, ;
                      COVER N(3, 0) NOT NULL, ;
                      FOLLOWUP N(3, 0) NOT NULL, ;
                      PERIOD N(3, 0) NOT NULL, ;
                      CAPITATION Y NOT NULL, ;
                      OVERALL Y NOT NULL, ;
                      L_USER C(8) NOT NULL, ;
                      L_UPDATE T NOT NULL)

***** Create each index for PRODUCT *****
SET COLLATE TO 'MACHINE'
INDEX ON FUND_ID TAG FUND_ID
INDEX ON PROD_TITLE TAG PROD_TITLE
ALTER TABLE 'PRODUCT' ADD PRIMARY KEY PROD_ID TAG PROD_ID

***** Change properties for PRODUCT *****
ENDFUNC

FUNCTION MakeTable_PLAN2CAT
***** Table setup for PLAN2CAT *****
CREATE TABLE 'TIMS041.DBF' NAME 'PLAN2CAT' (PLAN_ID C(8) NOT NULL, ;
                       CAT_ID C(8) NOT NULL, ;
                       DESCRIPTION C(60) NOT NULL, ;
                       BENEFIT Y NOT NULL, ;
                       PER C(1) NOT NULL, ;
                       L_USER C(8) NOT NULL, ;
                       L_UPDATE T NOT NULL)

***** Create each index for PLAN2CAT *****
SET COLLATE TO 'MACHINE'
INDEX ON CAT_ID TAG CAT_ID
INDEX ON PLAN_ID TAG PLAN_ID
ALTER TABLE 'PLAN2CAT' ADD PRIMARY KEY PLAN_ID+CAT_ID TAG PLAN_CAT

***** Change properties for PLAN2CAT *****
ENDFUNC

FUNCTION MakeTable_CATEGORY
***** Table setup for CATEGORY *****
CREATE TABLE 'TIMS042.DBF' NAME 'CATEGORY' (PROD_ID C(8) NOT NULL, ;
                       CAT_ID C(8) NOT NULL, ;
                       CAT_CODE C(8) NOT NULL, ;
                       DESCRIPTION C(60) NOT NULL, ;
                       TYPE N(1, 0) NOT NULL, ;
                       TREAMENT N(1, 0) NOT NULL, ;
                       GROUP C(1) NOT NULL, ;
                       SUBGROUP C(1) NOT NULL, ;
                       SUBTYPE N(1, 0) NOT NULL, ;
                       ISMAINGRP L NOT NULL, ;
                       ISSUBMAIN L NOT NULL, ;
                       ITEM_GRP C(30) NOT NULL, ;
                       ILLNESS L NOT NULL, ;
                       FEE L NOT NULL, ;
                       COUNTER L NOT NULL, ;
                       FOLLOWUP N(3, 0) NOT NULL, ;
                       FOLLOW_TYPE N(1, 0) NOT NULL, ;
                       PERIOD N(3, 0) NOT NULL, ;
                       PERIOD_TYPE C(1) NOT NULL, ;
                       LM_CODE_1 N(3, 0) NOT NULL, ;
                       LM_CODE_2 N(3, 0) NOT NULL, ;
                       LM_CODE_3 N(3, 0) NOT NULL, ;
                       LM_CODE_4 N(3, 0) NOT NULL, ;
                       LM_CODE_5 N(3, 0) NOT NULL, ;
                       LM_CODE_6 N(3, 0) NOT NULL, ;
                       LM_CODE_7 N(3, 0) NOT NULL, ;
                       LM_CODE_8 N(3, 0) NOT NULL, ;
                       LM_CODE_9 N(3, 0) NOT NULL, ;
                       LM_PER_1 C(1) NOT NULL, ;
                       LM_PER_2 C(1) NOT NULL, ;
                       LM_PER_3 C(1) NOT NULL, ;
                       LM_PER_4 C(1) NOT NULL, ;
                       LM_PER_5 C(1) NOT NULL, ;
                       LM_PER_6 C(1) NOT NULL, ;
                       LM_PER_7 C(1) NOT NULL, ;
                       LM_PER_8 C(1) NOT NULL, ;
                       LM_PER_9 C(1) NOT NULL, ;
                       LM_COVER_1 N(4, 2) NOT NULL, ;
                       LM_COVER_2 N(4, 2) NOT NULL, ;
                       LM_COVER_3 N(4, 2) NOT NULL, ;
                       LM_COVER_4 N(4, 2) NOT NULL, ;
                       LM_COVER_5 N(4, 2) NOT NULL, ;
                       LM_COVER_6 N(4, 2) NOT NULL, ;
                       LM_COVER_7 N(4, 2) NOT NULL, ;
                       LM_COVER_8 N(4, 2) NOT NULL, ;
                       LM_COVER_9 N(4, 2) NOT NULL, ;
                       L_USER C(8) NOT NULL, ;
                       L_UPDATE T NOT NULL)

***** Create each index for CATEGORY *****
SET COLLATE TO 'MACHINE'
INDEX ON PROD_ID TAG PROD_ID
INDEX ON TYPE TAG TYPE
INDEX ON TREAMENT TAG TREAMENT
INDEX ON CAT_CODE TAG CAT_CODE
INDEX ON CAT_ID+GROUP+SUBGROUP TAG ISMAINGRP FOR ISMAINGRP
INDEX ON CAT_ID+GROUP TAG GROUP
INDEX ON CAT_ID+GROUP+SUBGROUP TAG ISSUBMAIN FOR ISSUBMAIN
ALTER TABLE 'CATEGORY' ADD PRIMARY KEY CAT_ID TAG CAT_ID

***** Change properties for CATEGORY *****
ENDFUNC

FUNCTION MakeTable_TIMS043
***** Table setup for TIMS043 *****
CREATE TABLE 'TIMS043.DBF' NAME 'TIMS043' (CAT_ID C(8) NOT NULL, ;
                      PLAN_ID C(8) NOT NULL, ;
                      BENEFIT Y NOT NULL)

***** Create each index for TIMS043 *****
SET COLLATE TO 'MACHINE'
INDEX ON CAT_ID TAG CAT_ID
INDEX ON PLAN_ID TAG PLAN_ID

***** Change properties for TIMS043 *****
ENDFUNC

FUNCTION MakeTable_PROD_EXCLUSION
***** Table setup for PROD_EXCLUSION *****
CREATE TABLE 'TIMS044.DBF' NAME 'PROD_EXCLUSION' (PROD_ID C(8) NOT NULL, ;
                             ICD10 C(8) NOT NULL, ;
                             L_USER C(8) NOT NULL, ;
                             L_UPDATE T NOT NULL)

***** Create each index for PROD_EXCLUSION *****
SET COLLATE TO 'MACHINE'
INDEX ON PROD_ID TAG PROD_ID
INDEX ON ICD10 TAG ICD10

***** Change properties for PROD_EXCLUSION *****
ENDFUNC

FUNCTION MakeTable_PLAN
***** Table setup for PLAN *****
CREATE TABLE 'TIMS045.DBF' NAME 'PLAN' (PROD_ID C(8) NOT NULL, ;
                   PLAN_ID C(8) NOT NULL, ;
                   TITLE C(10) NOT NULL, ;
                   DESCRIPTION C(30) NOT NULL, ;
                   L_USER C(8) NOT NULL, ;
                   L_UPDATE T NOT NULL)

***** Create each index for PLAN *****
SET COLLATE TO 'MACHINE'
INDEX ON PLAN_ID TAG PLAN_ID CANDIDATE
INDEX ON PROD_ID TAG PROD_ID
INDEX ON ALLTRIM(TITLE) TAG TITLE

***** Change properties for PLAN *****
ENDFUNC

FUNCTION MakeTable_TIMS05
***** Table setup for TIMS05 *****
CREATE TABLE 'TIMS05.DBF' NAME 'TIMS05' (PLAN_ID C(8) NOT NULL, ;
                     AGECODE C(8) NOT NULL, ;
                     OCCUPNCODE C(8) NOT NULL, ;
                     PREMIUM Y NOT NULL, ;
                     PAY_FR N(2, 0) NOT NULL, ;
                     L_USER C(8) NOT NULL, ;
                     L_UPDATE T NOT NULL)

***** Create each index for TIMS05 *****
SET COLLATE TO 'MACHINE'
INDEX ON AGECODE TAG AGECODE
INDEX ON OCCUPNCODE TAG OCCUPNCODE
INDEX ON PLAN_ID TAG PLAN_ID

***** Change properties for TIMS05 *****
ENDFUNC

FUNCTION MakeTable_TEMPLATE
***** Table setup for TEMPLATE *****
CREATE TABLE 'TIMS06.DBF' NAME 'TEMPLATE' (FUND_ID I NOT NULL, ;
                       SYSFIELD C(30) NOT NULL, ;
                       TPAFIELD C(30) NOT NULL)

***** Create each index for TEMPLATE *****
SET COLLATE TO 'MACHINE'
INDEX ON FUND_ID TAG FUND_ID

***** Change properties for TEMPLATE *****
ENDFUNC

FUNCTION MakeTable_PAY_TYPE
***** Table setup for PAY_TYPE *****
CREATE TABLE 'TIMS061.DBF' NAME 'PAY_TYPE' (FUND_ID I NOT NULL, ;
                       DAY C(10) NOT NULL, ;
                       HM C(10) NOT NULL, ;
                       M C(10) NOT NULL, ;
                       Q C(10) NOT NULL, ;
                       H C(10) NOT NULL, ;
                       N C(10) NOT NULL, ;
                       Y C(10) NOT NULL)

***** Create each index for PAY_TYPE *****
SET COLLATE TO 'MACHINE'
INDEX ON FUND_ID TAG FUND_ID

***** Change properties for PAY_TYPE *****
ENDFUNC

FUNCTION MakeTable_TITLE
***** Table setup for TITLE *****
CREATE TABLE 'MISC01.DBF' NAME 'TITLE' (TITLE_CODE C(4) NOT NULL, ;
                    SHORT_TITLE C(10) NOT NULL, ;
                    DESCRIPTION C(30) NOT NULL)

***** Create each index for TITLE *****
SET COLLATE TO 'MACHINE'
ALTER TABLE 'TITLE' ADD PRIMARY KEY TITLE_CODE TAG TITLE_CODE

***** Change properties for TITLE *****
ENDFUNC

FUNCTION MakeTable_OCCUPATION
***** Table setup for OCCUPATION *****
CREATE TABLE 'MISC02.DBF' NAME 'OCCUPATION' (CODE C(4) NOT NULL, ;
                         LEVEL C(4) NOT NULL, ;
                         DESCRIPTION C(30) NOT NULL)

***** Create each index for OCCUPATION *****
SET COLLATE TO 'MACHINE'
INDEX ON CODE TAG CODE

***** Change properties for OCCUPATION *****
ENDFUNC

FUNCTION MakeTable_ITEM_GROUP
***** Table setup for ITEM_GROUP *****
CREATE TABLE 'MISC03.DBF' NAME 'ITEM_GROUP' (GROUP_ID N(2, 0) NOT NULL, ;
                         GROUP_CODE C(5) NOT NULL, ;
                         DESCRIPTION C(30) NOT NULL)

***** Create each index for ITEM_GROUP *****
SET COLLATE TO 'MACHINE'
ALTER TABLE 'ITEM_GROUP' ADD PRIMARY KEY GROUP_CODE TAG GROUP_CODE

***** Change properties for ITEM_GROUP *****
ENDFUNC

FUNCTION MakeTable_ICD9
***** Table setup for ICD9 *****
CREATE TABLE 'MISC04.DBF' NAME 'ICD9' (GROUP C(2) NOT NULL, ;
                   CODE C(8) NOT NULL, ;
                   DESCRIPTION C(80) NOT NULL, ;
                   TEXT C(20) NOT NULL)

***** Create each index for ICD9 *****
SET COLLATE TO 'MACHINE'
INDEX ON DESCRIPTION TAG DESC
INDEX ON CODE TAG CODE CANDIDATE

***** Change properties for ICD9 *****
ENDFUNC

FUNCTION MakeTable_ICD10
***** Table setup for ICD10 *****
CREATE TABLE 'MISC05.DBF' NAME 'ICD10' (CODE C(8) NOT NULL, ;
                    DRG C(8) NOT NULL, ;
                    DESCRIPTION C(80) NOT NULL, ;
                    TEXT C(10) NOT NULL)

***** Create each index for ICD10 *****
SET COLLATE TO 'MACHINE'
ALTER TABLE 'ICD10' ADD PRIMARY KEY CODE TAG CODE

***** Change properties for ICD10 *****
ENDFUNC

FUNCTION MakeTable_ITEM
***** Table setup for ITEM *****
CREATE TABLE 'MISC06.DBF' NAME 'ITEM' (ITEM_CODE C(8) NOT NULL, ;
                   ITEM_TYPE C(1) NOT NULL, ;
                   ITEM_GRP C(5) NOT NULL, ;
                   DESCRIPTION C(30) NOT NULL, ;
                   THDESC C(30) NOT NULL)

***** Create each index for ITEM *****
SET COLLATE TO 'MACHINE'
INDEX ON ITEM_CODE TAG ITEM_CODE CANDIDATE
INDEX ON ITEM_GRP TAG ITEM_GRP

***** Change properties for ITEM *****
ENDFUNC

FUNCTION MakeTable_AGE_RANGE
***** Table setup for AGE_RANGE *****
CREATE TABLE 'MISC09.DBF' NAME 'AGE_RANGE' (AGECODE C(5) NOT NULL, ;
                        AGETYPE C(1) NOT NULL, ;
                        STARTAGE I NOT NULL, ;
                        ENDAGE I NOT NULL)

***** Create each index for AGE_RANGE *****
SET COLLATE TO 'MACHINE'
INDEX ON AGECODE TAG AGECODE CANDIDATE

***** Change properties for AGE_RANGE *****
ENDFUNC

FUNCTION MakeTable_USERS
***** Table setup for USERS *****
CREATE TABLE 'MISC12.DBF' NAME 'USERS' (USERID C(8) NOT NULL, ;
                    FULLNAME C(40) NOT NULL, ;
                    EMAIL C(40) NOT NULL, ;
                    GROUP C(8) NOT NULL, ;
                    LEVEL N(1, 0) NOT NULL)

***** Create each index for USERS *****
SET COLLATE TO 'MACHINE'
INDEX ON GROUP TAG GROUP
ALTER TABLE 'USERS' ADD PRIMARY KEY USERID TAG USERID

***** Change properties for USERS *****
ENDFUNC

FUNCTION MakeTable_PROVIDER
***** Table setup for PROVIDER *****
CREATE TABLE 'PIMS01.DBF' NAME 'PROVIDER' (PROV_ID C(8) NOT NULL, ;
                       PPO N(1, 0) NOT NULL, ;
                       PROV_TYPE C(1) NOT NULL, ;
                       PROV_CLASS C(1) NOT NULL, ;
                       TNAME C(50) NOT NULL, ;
                       NAME C(40) NOT NULL, ;
                       ADDR_1 C(30) NOT NULL, ;
                       ADDR_2 C(30) NOT NULL, ;
                       PROVINCE C(30) NOT NULL, ;
                       CITY C(30) NOT NULL, ;
                       POSTCODE C(5) NOT NULL, ;
                       PHONE C(15) NOT NULL, ;
                       FAX C(15) NOT NULL, ;
                       COUNTRY C(30) NOT NULL, ;
                       EMAIL C(30) NOT NULL, ;
                       AREA_CODE C(30) NOT NULL, ;
                       START_CONTACT D NOT NULL, ;
                       END_CONTACT D NOT NULL, ;
                       PAYMENT C(1) NOT NULL, ;
                       DISC_RATE N(5, 2) NOT NULL, ;
                       CAPITATION C(1) NOT NULL, ;
                       CAPTITION_TYPE C(1) NOT NULL, ;
                       ACCOUNT_NO C(10) NOT NULL, ;
                       ACCOUNT_NAME C(30) NOT NULL, ;
                       BANK C(20) NOT NULL, ;
                       L_USER C(8) NOT NULL, ;
                       L_UPDATE T NOT NULL)

***** Create each index for PROVIDER *****
SET COLLATE TO 'MACHINE'
INDEX ON NAME TAG NAME
ALTER TABLE 'PROVIDER' ADD PRIMARY KEY PROV_ID TAG PROV_ID

***** Change properties for PROVIDER *****
ENDFUNC

FUNCTION MakeTable_PROV_PRICE
***** Table setup for PROV_PRICE *****
CREATE TABLE 'PIMS02.DBF' NAME 'PROV_PRICE' (PROV_ID C(8) NOT NULL, ;
                         ITEMCODE C(8) NOT NULL, ;
                         PRICE Y NOT NULL)

***** Create each index for PROV_PRICE *****
SET COLLATE TO 'MACHINE'
INDEX ON ITEMCODE TAG ITEMCODE CANDIDATE
INDEX ON PROV_ID TAG PROV_ID

***** Change properties for PROV_PRICE *****
ENDFUNC

FUNCTION MakeView_NOTIFYBYNO
***************** View setup for NOTIFYBYNO ***************

CREATE SQL VIEW "NOTIFYBYNO" ; 
   AS SELECT Notify.notify_no, Notify.notify_date, Notify.customer_id,  Notify.policy_no, Notify.prov_name, Notify.prov_sender, Notify.prov_dep,  Notify.hn_no, Notify.an_no, Notify.admis_date, Notify.basic_diag,  Notify.proposals, Notify.notify_notes, Notify.record_by, Notify.status,  ALLTRIM(Member.title)+" "+  ALLTRIM(Member.name)+" "+ ALLTRIM(Member.surname) AS name,  Member.product, Fund.name FROM  cims!Notify INNER JOIN tims!Member    INNER JOIN tims!fund    ON  Fund.fund_id = Member.fund_id    ON  Notify.customer_id = Member.customer_id WHERE Notify.notify_no = ?lcNotify_no

DBSetProp('NOTIFYBYNO', 'View', 'UpdateType', 1)
DBSetProp('NOTIFYBYNO', 'View', 'WhereType', 3)
DBSetProp('NOTIFYBYNO', 'View', 'FetchMemo', .T.)
DBSetProp('NOTIFYBYNO', 'View', 'SendUpdates', .F.)
DBSetProp('NOTIFYBYNO', 'View', 'UseMemoSize', 255)
DBSetProp('NOTIFYBYNO', 'View', 'FetchSize', 100)
DBSetProp('NOTIFYBYNO', 'View', 'MaxRecords', -1)
DBSetProp('NOTIFYBYNO', 'View', 'Tables', 'cims!Notify,tims!Member,tims!fund')
DBSetProp('NOTIFYBYNO', 'View', 'Prepared', .F.)
DBSetProp('NOTIFYBYNO', 'View', 'CompareMemo', .T.)
DBSetProp('NOTIFYBYNO', 'View', 'FetchAsNeeded', .F.)
DBSetProp('NOTIFYBYNO', 'View', 'FetchSize', 100)
DBSetProp('NOTIFYBYNO', 'View', 'Comment', "")
DBSetProp('NOTIFYBYNO', 'View', 'BatchUpdateCount', 1)
DBSetProp('NOTIFYBYNO', 'View', 'ShareConnection', .F.)

*!* Field Level Properties for NOTIFYBYNO
* Props for the NOTIFYBYNO.notify_no field.
DBSetProp('NOTIFYBYNO.notify_no', 'Field', 'KeyField', .T.)
DBSetProp('NOTIFYBYNO.notify_no', 'Field', 'Updatable', .F.)
DBSetProp('NOTIFYBYNO.notify_no', 'Field', 'UpdateName', 'cims!Notify.notify_no')
DBSetProp('NOTIFYBYNO.notify_no', 'Field', 'DataType', "C(8)")
* Props for the NOTIFYBYNO.notify_date field.
DBSetProp('NOTIFYBYNO.notify_date', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.notify_date', 'Field', 'Updatable', .T.)
DBSetProp('NOTIFYBYNO.notify_date', 'Field', 'UpdateName', 'cims!Notify.notify_date')
DBSetProp('NOTIFYBYNO.notify_date', 'Field', 'DataType', "T")
* Props for the NOTIFYBYNO.customer_id field.
DBSetProp('NOTIFYBYNO.customer_id', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.customer_id', 'Field', 'Updatable', .T.)
DBSetProp('NOTIFYBYNO.customer_id', 'Field', 'UpdateName', 'cims!Notify.customer_id')
DBSetProp('NOTIFYBYNO.customer_id', 'Field', 'DataType', "C(8)")
* Props for the NOTIFYBYNO.policy_no field.
DBSetProp('NOTIFYBYNO.policy_no', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.policy_no', 'Field', 'Updatable', .T.)
DBSetProp('NOTIFYBYNO.policy_no', 'Field', 'UpdateName', 'cims!Notify.policy_no')
DBSetProp('NOTIFYBYNO.policy_no', 'Field', 'DataType', "C(20)")
* Props for the NOTIFYBYNO.prov_name field.
DBSetProp('NOTIFYBYNO.prov_name', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.prov_name', 'Field', 'Updatable', .T.)
DBSetProp('NOTIFYBYNO.prov_name', 'Field', 'UpdateName', 'cims!Notify.prov_name')
DBSetProp('NOTIFYBYNO.prov_name', 'Field', 'DataType', "C(30)")
* Props for the NOTIFYBYNO.prov_sender field.
DBSetProp('NOTIFYBYNO.prov_sender', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.prov_sender', 'Field', 'Updatable', .T.)
DBSetProp('NOTIFYBYNO.prov_sender', 'Field', 'UpdateName', 'cims!Notify.prov_sender')
DBSetProp('NOTIFYBYNO.prov_sender', 'Field', 'DataType', "C(30)")
* Props for the NOTIFYBYNO.prov_dep field.
DBSetProp('NOTIFYBYNO.prov_dep', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.prov_dep', 'Field', 'Updatable', .T.)
DBSetProp('NOTIFYBYNO.prov_dep', 'Field', 'UpdateName', 'cims!Notify.prov_dep')
DBSetProp('NOTIFYBYNO.prov_dep', 'Field', 'DataType', "C(30)")
* Props for the NOTIFYBYNO.hn_no field.
DBSetProp('NOTIFYBYNO.hn_no', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.hn_no', 'Field', 'Updatable', .T.)
DBSetProp('NOTIFYBYNO.hn_no', 'Field', 'UpdateName', 'cims!Notify.hn_no')
DBSetProp('NOTIFYBYNO.hn_no', 'Field', 'DataType', "C(8)")
* Props for the NOTIFYBYNO.an_no field.
DBSetProp('NOTIFYBYNO.an_no', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.an_no', 'Field', 'Updatable', .T.)
DBSetProp('NOTIFYBYNO.an_no', 'Field', 'UpdateName', 'cims!Notify.an_no')
DBSetProp('NOTIFYBYNO.an_no', 'Field', 'DataType', "C(8)")
* Props for the NOTIFYBYNO.admis_date field.
DBSetProp('NOTIFYBYNO.admis_date', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.admis_date', 'Field', 'Updatable', .T.)
DBSetProp('NOTIFYBYNO.admis_date', 'Field', 'UpdateName', 'cims!Notify.admis_date')
DBSetProp('NOTIFYBYNO.admis_date', 'Field', 'DataType', "D")
* Props for the NOTIFYBYNO.basic_diag field.
DBSetProp('NOTIFYBYNO.basic_diag', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.basic_diag', 'Field', 'Updatable', .T.)
DBSetProp('NOTIFYBYNO.basic_diag', 'Field', 'UpdateName', 'cims!Notify.basic_diag')
DBSetProp('NOTIFYBYNO.basic_diag', 'Field', 'DataType', "M")
* Props for the NOTIFYBYNO.proposals field.
DBSetProp('NOTIFYBYNO.proposals', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.proposals', 'Field', 'Updatable', .T.)
DBSetProp('NOTIFYBYNO.proposals', 'Field', 'UpdateName', 'cims!Notify.proposals')
DBSetProp('NOTIFYBYNO.proposals', 'Field', 'DataType', "N(1)")
* Props for the NOTIFYBYNO.notify_notes field.
DBSetProp('NOTIFYBYNO.notify_notes', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.notify_notes', 'Field', 'Updatable', .T.)
DBSetProp('NOTIFYBYNO.notify_notes', 'Field', 'UpdateName', 'cims!Notify.notify_notes')
DBSetProp('NOTIFYBYNO.notify_notes', 'Field', 'DataType', "M")
* Props for the NOTIFYBYNO.record_by field.
DBSetProp('NOTIFYBYNO.record_by', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.record_by', 'Field', 'Updatable', .T.)
DBSetProp('NOTIFYBYNO.record_by', 'Field', 'UpdateName', 'cims!Notify.record_by')
DBSetProp('NOTIFYBYNO.record_by', 'Field', 'DataType', "C(30)")
* Props for the NOTIFYBYNO.status field.
DBSetProp('NOTIFYBYNO.status', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.status', 'Field', 'Updatable', .T.)
DBSetProp('NOTIFYBYNO.status', 'Field', 'UpdateName', 'cims!Notify.status')
DBSetProp('NOTIFYBYNO.status', 'Field', 'DataType', "C(1)")
* Props for the NOTIFYBYNO.name_a field.
DBSetProp('NOTIFYBYNO.name_a', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.name_a', 'Field', 'Updatable', .F.)
DBSetProp('NOTIFYBYNO.name_a', 'Field', 'UpdateName', '')
DBSetProp('NOTIFYBYNO.name_a', 'Field', 'DataType', "C(126)")
* Props for the NOTIFYBYNO.product field.
DBSetProp('NOTIFYBYNO.product', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.product', 'Field', 'Updatable', .T.)
DBSetProp('NOTIFYBYNO.product', 'Field', 'UpdateName', 'tims!Member.product')
DBSetProp('NOTIFYBYNO.product', 'Field', 'DataType', "C(8)")
* Props for the NOTIFYBYNO.name_b field.
DBSetProp('NOTIFYBYNO.name_b', 'Field', 'KeyField', .F.)
DBSetProp('NOTIFYBYNO.name_b', 'Field', 'Updatable', .T.)
DBSetProp('NOTIFYBYNO.name_b', 'Field', 'UpdateName', 'tims!fund.name')
DBSetProp('NOTIFYBYNO.name_b', 'Field', 'DataType', "C(30)")
ENDFUNC
 
FUNCTION MakeView_PRODBYCODE
***************** View setup for PRODBYCODE ***************

CREATE SQL VIEW "PRODBYCODE" ; 
   AS SELECT ALLTRIM(Product.prod_title)+ALLTRIM(Plan.title) AS prod_code,  ALLTRIM(Product.description)+" "+ALLTRIM(Plan.description) AS prod_desc,  Product.grace, Product.wait, Product.admis, Product.cover,  Product.capitation, Product.overall, Plan.plan_id FROM  tims!product INNER JOIN tims!plan    ON  Product.prod_id = Plan.prod_id WHERE Product.fund_id = ?nFund_id   AND Plan.plan_id = ?cPlanID

DBSetProp('PRODBYCODE', 'View', 'UpdateType', 1)
DBSetProp('PRODBYCODE', 'View', 'WhereType', 3)
DBSetProp('PRODBYCODE', 'View', 'FetchMemo', .T.)
DBSetProp('PRODBYCODE', 'View', 'SendUpdates', .F.)
DBSetProp('PRODBYCODE', 'View', 'UseMemoSize', 255)
DBSetProp('PRODBYCODE', 'View', 'FetchSize', 100)
DBSetProp('PRODBYCODE', 'View', 'MaxRecords', -1)
DBSetProp('PRODBYCODE', 'View', 'Tables', 'tims!product')
DBSetProp('PRODBYCODE', 'View', 'Prepared', .F.)
DBSetProp('PRODBYCODE', 'View', 'CompareMemo', .T.)
DBSetProp('PRODBYCODE', 'View', 'FetchAsNeeded', .F.)
DBSetProp('PRODBYCODE', 'View', 'FetchSize', 100)
DBSetProp('PRODBYCODE', 'View', 'Comment', "* กรมธรรม์ ?nFund_id, ?cProd_code= product.title+plan.title" + CHR(13) + "")
DBSetProp('PRODBYCODE', 'View', 'BatchUpdateCount', 1)
DBSetProp('PRODBYCODE', 'View', 'ShareConnection', .F.)

*!* Field Level Properties for PRODBYCODE
* Props for the PRODBYCODE.prod_code field.
DBSetProp('PRODBYCODE.prod_code', 'Field', 'KeyField', .F.)
DBSetProp('PRODBYCODE.prod_code', 'Field', 'Updatable', .F.)
DBSetProp('PRODBYCODE.prod_code', 'Field', 'UpdateName', '๗|D*')
DBSetProp('PRODBYCODE.prod_code', 'Field', 'DataType', "C(13)")
* Props for the PRODBYCODE.prod_desc field.
DBSetProp('PRODBYCODE.prod_desc', 'Field', 'KeyField', .F.)
DBSetProp('PRODBYCODE.prod_desc', 'Field', 'Updatable', .F.)
DBSetProp('PRODBYCODE.prod_desc', 'Field', 'UpdateName', '๗|D**')
DBSetProp('PRODBYCODE.prod_desc', 'Field', 'DataType', "C(71)")
* Props for the PRODBYCODE.grace field.
DBSetProp('PRODBYCODE.grace', 'Field', 'KeyField', .F.)
DBSetProp('PRODBYCODE.grace', 'Field', 'Updatable', .T.)
DBSetProp('PRODBYCODE.grace', 'Field', 'UpdateName', 'tims!product.grace')
DBSetProp('PRODBYCODE.grace', 'Field', 'DataType', "I")
* Props for the PRODBYCODE.wait field.
DBSetProp('PRODBYCODE.wait', 'Field', 'KeyField', .F.)
DBSetProp('PRODBYCODE.wait', 'Field', 'Updatable', .T.)
DBSetProp('PRODBYCODE.wait', 'Field', 'UpdateName', 'tims!product.wait')
DBSetProp('PRODBYCODE.wait', 'Field', 'DataType', "I")
* Props for the PRODBYCODE.admis field.
DBSetProp('PRODBYCODE.admis', 'Field', 'KeyField', .F.)
DBSetProp('PRODBYCODE.admis', 'Field', 'Updatable', .T.)
DBSetProp('PRODBYCODE.admis', 'Field', 'UpdateName', 'tims!product.admis')
DBSetProp('PRODBYCODE.admis', 'Field', 'DataType', "I")
* Props for the PRODBYCODE.cover field.
DBSetProp('PRODBYCODE.cover', 'Field', 'KeyField', .F.)
DBSetProp('PRODBYCODE.cover', 'Field', 'Updatable', .T.)
DBSetProp('PRODBYCODE.cover', 'Field', 'UpdateName', 'tims!product.cover')
DBSetProp('PRODBYCODE.cover', 'Field', 'DataType', "I")
* Props for the PRODBYCODE.capitation field.
DBSetProp('PRODBYCODE.capitation', 'Field', 'KeyField', .F.)
DBSetProp('PRODBYCODE.capitation', 'Field', 'Updatable', .T.)
DBSetProp('PRODBYCODE.capitation', 'Field', 'UpdateName', 'tims!product.capitation')
DBSetProp('PRODBYCODE.capitation', 'Field', 'DataType', "Y")
* Props for the PRODBYCODE.overall field.
DBSetProp('PRODBYCODE.overall', 'Field', 'KeyField', .F.)
DBSetProp('PRODBYCODE.overall', 'Field', 'Updatable', .T.)
DBSetProp('PRODBYCODE.overall', 'Field', 'UpdateName', 'tims!product.overall')
DBSetProp('PRODBYCODE.overall', 'Field', 'DataType', "Y")
* Props for the PRODBYCODE.plan_id field.
DBSetProp('PRODBYCODE.plan_id', 'Field', 'KeyField', .T.)
DBSetProp('PRODBYCODE.plan_id', 'Field', 'Updatable', .F.)
DBSetProp('PRODBYCODE.plan_id', 'Field', 'UpdateName', 'tims!plan.plan_id')
DBSetProp('PRODBYCODE.plan_id', 'Field', 'DataType', "C(8)")
ENDFUNC
 
FUNCTION MakeView_BENEFIT
***************** View setup for BENEFIT ***************

CREATE SQL VIEW "BENEFIT" ; 
   AS SELECT Plan2cat.plan_id, Category.cat_id, Category.cat_code,  Category.description, Category.group, Category.subgroup,  Category.subtype, Category.type, Category.treament, Plan2cat.benefit,  Plan2cat.per, Category.illness, Category.fee, Category.counter,  Category.lm_code_1, Category.lm_cover_1, Category.lm_per_1,  Category.lm_code_2, Category.lm_cover_2, Category.lm_per_2,  Category.lm_code_3, Category.lm_cover_3, Category.lm_per_3,  Category.lm_code_4, Category.lm_cover_4, Category.lm_per_4,  Category.lm_code_5, Category.lm_cover_5, Category.lm_per_5,  Category.lm_code_6, Category.lm_cover_6, Category.lm_per_6,  Category.lm_code_7, Category.lm_cover_7, Category.lm_per_7,  Category.lm_code_8, Category.lm_cover_8, Category.lm_per_8,  Category.lm_code_9, Category.lm_cover_9, Category.lm_per_9,  Category.ismaingrp, Category.issubmain, Category.item_grp,  Category.followup, Category.period, Category.period_type FROM  tims!category INNER JOIN tims!plan2cat    ON  Category.cat_id = Plan2cat.cat_id WHERE Plan2cat.plan_id = ?cPlanID HAVING Category.type = ?nType   AND Category.treament = ?nTreatment

DBSetProp('BENEFIT', 'View', 'UpdateType', 1)
DBSetProp('BENEFIT', 'View', 'WhereType', 3)
DBSetProp('BENEFIT', 'View', 'FetchMemo', .T.)
DBSetProp('BENEFIT', 'View', 'SendUpdates', .F.)
DBSetProp('BENEFIT', 'View', 'UseMemoSize', 255)
DBSetProp('BENEFIT', 'View', 'FetchSize', 100)
DBSetProp('BENEFIT', 'View', 'MaxRecords', -1)
DBSetProp('BENEFIT', 'View', 'Tables', 'tims!plan2cat,tims!category')
DBSetProp('BENEFIT', 'View', 'Prepared', .F.)
DBSetProp('BENEFIT', 'View', 'CompareMemo', .T.)
DBSetProp('BENEFIT', 'View', 'FetchAsNeeded', .F.)
DBSetProp('BENEFIT', 'View', 'FetchSize', 100)
DBSetProp('BENEFIT', 'View', 'Comment', "* ตารางผลประโยชน์ (?cPlan_id  ?nType)" + CHR(13) + "")
DBSetProp('BENEFIT', 'View', 'BatchUpdateCount', 1)
DBSetProp('BENEFIT', 'View', 'ShareConnection', .F.)

*!* Field Level Properties for BENEFIT
* Props for the BENEFIT.plan_id field.
DBSetProp('BENEFIT.plan_id', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.plan_id', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.plan_id', 'Field', 'UpdateName', 'tims!plan2cat.plan_id')
DBSetProp('BENEFIT.plan_id', 'Field', 'DataType', "C(8)")
* Props for the BENEFIT.cat_id field.
DBSetProp('BENEFIT.cat_id', 'Field', 'KeyField', .T.)
DBSetProp('BENEFIT.cat_id', 'Field', 'Updatable', .F.)
DBSetProp('BENEFIT.cat_id', 'Field', 'UpdateName', 'tims!category.cat_id')
DBSetProp('BENEFIT.cat_id', 'Field', 'DataType', "C(8)")
* Props for the BENEFIT.cat_code field.
DBSetProp('BENEFIT.cat_code', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.cat_code', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.cat_code', 'Field', 'UpdateName', 'tims!category.cat_code')
DBSetProp('BENEFIT.cat_code', 'Field', 'DataType', "C(8)")
* Props for the BENEFIT.description field.
DBSetProp('BENEFIT.description', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.description', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.description', 'Field', 'UpdateName', 'tims!category.description')
DBSetProp('BENEFIT.description', 'Field', 'DataType', "C(60)")
* Props for the BENEFIT.group field.
DBSetProp('BENEFIT.group', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.group', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.group', 'Field', 'UpdateName', 'tims!category.group')
DBSetProp('BENEFIT.group', 'Field', 'DataType', "C(1)")
* Props for the BENEFIT.subgroup field.
DBSetProp('BENEFIT.subgroup', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.subgroup', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.subgroup', 'Field', 'UpdateName', 'tims!category.subgroup')
DBSetProp('BENEFIT.subgroup', 'Field', 'DataType', "C(1)")
* Props for the BENEFIT.subtype field.
DBSetProp('BENEFIT.subtype', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.subtype', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.subtype', 'Field', 'UpdateName', 'tims!category.subtype')
DBSetProp('BENEFIT.subtype', 'Field', 'DataType', "N(1)")
* Props for the BENEFIT.type field.
DBSetProp('BENEFIT.type', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.type', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.type', 'Field', 'UpdateName', 'tims!category.type')
DBSetProp('BENEFIT.type', 'Field', 'DataType', "N(1)")
* Props for the BENEFIT.treament field.
DBSetProp('BENEFIT.treament', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.treament', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.treament', 'Field', 'UpdateName', 'tims!category.treament')
DBSetProp('BENEFIT.treament', 'Field', 'DataType', "N(1)")
* Props for the BENEFIT.benefit field.
DBSetProp('BENEFIT.benefit', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.benefit', 'Field', 'Updatable', .F.)
DBSetProp('BENEFIT.benefit', 'Field', 'UpdateName', 'tims!plan2cat.benefit')
DBSetProp('BENEFIT.benefit', 'Field', 'DataType', "Y")
* Props for the BENEFIT.per field.
DBSetProp('BENEFIT.per', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.per', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.per', 'Field', 'UpdateName', 'tims!plan2cat.per')
DBSetProp('BENEFIT.per', 'Field', 'DataType', "C(1)")
* Props for the BENEFIT.illness field.
DBSetProp('BENEFIT.illness', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.illness', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.illness', 'Field', 'UpdateName', 'tims!category.illness')
DBSetProp('BENEFIT.illness', 'Field', 'DataType', "L")
* Props for the BENEFIT.fee field.
DBSetProp('BENEFIT.fee', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.fee', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.fee', 'Field', 'UpdateName', 'tims!category.fee')
DBSetProp('BENEFIT.fee', 'Field', 'DataType', "L")
* Props for the BENEFIT.counter field.
DBSetProp('BENEFIT.counter', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.counter', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.counter', 'Field', 'UpdateName', 'tims!category.counter')
DBSetProp('BENEFIT.counter', 'Field', 'DataType', "L")
* Props for the BENEFIT.lm_code_1 field.
DBSetProp('BENEFIT.lm_code_1', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_code_1', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_code_1', 'Field', 'UpdateName', 'tims!category.lm_code_1')
DBSetProp('BENEFIT.lm_code_1', 'Field', 'DataType', "N(3)")
* Props for the BENEFIT.lm_cover_1 field.
DBSetProp('BENEFIT.lm_cover_1', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_cover_1', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_cover_1', 'Field', 'UpdateName', 'tims!category.lm_cover_1')
DBSetProp('BENEFIT.lm_cover_1', 'Field', 'DataType', "N(4,2)")
* Props for the BENEFIT.lm_per_1 field.
DBSetProp('BENEFIT.lm_per_1', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_per_1', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_per_1', 'Field', 'UpdateName', 'tims!category.lm_per_1')
DBSetProp('BENEFIT.lm_per_1', 'Field', 'DataType', "C(1)")
* Props for the BENEFIT.lm_code_2 field.
DBSetProp('BENEFIT.lm_code_2', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_code_2', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_code_2', 'Field', 'UpdateName', 'tims!category.lm_code_2')
DBSetProp('BENEFIT.lm_code_2', 'Field', 'DataType', "N(3)")
* Props for the BENEFIT.lm_cover_2 field.
DBSetProp('BENEFIT.lm_cover_2', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_cover_2', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_cover_2', 'Field', 'UpdateName', 'tims!category.lm_cover_2')
DBSetProp('BENEFIT.lm_cover_2', 'Field', 'DataType', "N(4,2)")
* Props for the BENEFIT.lm_per_2 field.
DBSetProp('BENEFIT.lm_per_2', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_per_2', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_per_2', 'Field', 'UpdateName', 'tims!category.lm_per_2')
DBSetProp('BENEFIT.lm_per_2', 'Field', 'DataType', "C(1)")
* Props for the BENEFIT.lm_code_3 field.
DBSetProp('BENEFIT.lm_code_3', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_code_3', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_code_3', 'Field', 'UpdateName', 'tims!category.lm_code_3')
DBSetProp('BENEFIT.lm_code_3', 'Field', 'DataType', "N(3)")
* Props for the BENEFIT.lm_cover_3 field.
DBSetProp('BENEFIT.lm_cover_3', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_cover_3', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_cover_3', 'Field', 'UpdateName', 'tims!category.lm_cover_3')
DBSetProp('BENEFIT.lm_cover_3', 'Field', 'DataType', "N(4,2)")
* Props for the BENEFIT.lm_per_3 field.
DBSetProp('BENEFIT.lm_per_3', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_per_3', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_per_3', 'Field', 'UpdateName', 'tims!category.lm_per_3')
DBSetProp('BENEFIT.lm_per_3', 'Field', 'DataType', "C(1)")
* Props for the BENEFIT.lm_code_4 field.
DBSetProp('BENEFIT.lm_code_4', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_code_4', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_code_4', 'Field', 'UpdateName', 'tims!category.lm_code_4')
DBSetProp('BENEFIT.lm_code_4', 'Field', 'DataType', "N(3)")
* Props for the BENEFIT.lm_cover_4 field.
DBSetProp('BENEFIT.lm_cover_4', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_cover_4', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_cover_4', 'Field', 'UpdateName', 'tims!category.lm_cover_4')
DBSetProp('BENEFIT.lm_cover_4', 'Field', 'DataType', "N(4,2)")
* Props for the BENEFIT.lm_per_4 field.
DBSetProp('BENEFIT.lm_per_4', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_per_4', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_per_4', 'Field', 'UpdateName', 'tims!category.lm_per_4')
DBSetProp('BENEFIT.lm_per_4', 'Field', 'DataType', "C(1)")
* Props for the BENEFIT.lm_code_5 field.
DBSetProp('BENEFIT.lm_code_5', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_code_5', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_code_5', 'Field', 'UpdateName', 'tims!category.lm_code_5')
DBSetProp('BENEFIT.lm_code_5', 'Field', 'DataType', "N(3)")
* Props for the BENEFIT.lm_cover_5 field.
DBSetProp('BENEFIT.lm_cover_5', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_cover_5', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_cover_5', 'Field', 'UpdateName', 'tims!category.lm_cover_5')
DBSetProp('BENEFIT.lm_cover_5', 'Field', 'DataType', "N(4,2)")
* Props for the BENEFIT.lm_per_5 field.
DBSetProp('BENEFIT.lm_per_5', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_per_5', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_per_5', 'Field', 'UpdateName', 'tims!category.lm_per_5')
DBSetProp('BENEFIT.lm_per_5', 'Field', 'DataType', "C(1)")
* Props for the BENEFIT.lm_code_6 field.
DBSetProp('BENEFIT.lm_code_6', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_code_6', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_code_6', 'Field', 'UpdateName', 'tims!category.lm_code_6')
DBSetProp('BENEFIT.lm_code_6', 'Field', 'DataType', "N(3)")
* Props for the BENEFIT.lm_cover_6 field.
DBSetProp('BENEFIT.lm_cover_6', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_cover_6', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_cover_6', 'Field', 'UpdateName', 'tims!category.lm_cover_6')
DBSetProp('BENEFIT.lm_cover_6', 'Field', 'DataType', "N(4,2)")
* Props for the BENEFIT.lm_per_6 field.
DBSetProp('BENEFIT.lm_per_6', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_per_6', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_per_6', 'Field', 'UpdateName', 'tims!category.lm_per_6')
DBSetProp('BENEFIT.lm_per_6', 'Field', 'DataType', "C(1)")
* Props for the BENEFIT.lm_code_7 field.
DBSetProp('BENEFIT.lm_code_7', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_code_7', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_code_7', 'Field', 'UpdateName', 'tims!category.lm_code_7')
DBSetProp('BENEFIT.lm_code_7', 'Field', 'DataType', "N(3)")
* Props for the BENEFIT.lm_cover_7 field.
DBSetProp('BENEFIT.lm_cover_7', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_cover_7', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_cover_7', 'Field', 'UpdateName', 'tims!category.lm_cover_7')
DBSetProp('BENEFIT.lm_cover_7', 'Field', 'DataType', "N(4,2)")
* Props for the BENEFIT.lm_per_7 field.
DBSetProp('BENEFIT.lm_per_7', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_per_7', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_per_7', 'Field', 'UpdateName', 'tims!category.lm_per_7')
DBSetProp('BENEFIT.lm_per_7', 'Field', 'DataType', "C(1)")
* Props for the BENEFIT.lm_code_8 field.
DBSetProp('BENEFIT.lm_code_8', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_code_8', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_code_8', 'Field', 'UpdateName', 'tims!category.lm_code_8')
DBSetProp('BENEFIT.lm_code_8', 'Field', 'DataType', "N(3)")
* Props for the BENEFIT.lm_cover_8 field.
DBSetProp('BENEFIT.lm_cover_8', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_cover_8', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_cover_8', 'Field', 'UpdateName', 'tims!category.lm_cover_8')
DBSetProp('BENEFIT.lm_cover_8', 'Field', 'DataType', "N(4,2)")
* Props for the BENEFIT.lm_per_8 field.
DBSetProp('BENEFIT.lm_per_8', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_per_8', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_per_8', 'Field', 'UpdateName', 'tims!category.lm_per_8')
DBSetProp('BENEFIT.lm_per_8', 'Field', 'DataType', "C(1)")
* Props for the BENEFIT.lm_code_9 field.
DBSetProp('BENEFIT.lm_code_9', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_code_9', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_code_9', 'Field', 'UpdateName', 'tims!category.lm_code_9')
DBSetProp('BENEFIT.lm_code_9', 'Field', 'DataType', "N(3)")
* Props for the BENEFIT.lm_cover_9 field.
DBSetProp('BENEFIT.lm_cover_9', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_cover_9', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_cover_9', 'Field', 'UpdateName', 'tims!category.lm_cover_9')
DBSetProp('BENEFIT.lm_cover_9', 'Field', 'DataType', "N(4,2)")
* Props for the BENEFIT.lm_per_9 field.
DBSetProp('BENEFIT.lm_per_9', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.lm_per_9', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.lm_per_9', 'Field', 'UpdateName', 'tims!category.lm_per_9')
DBSetProp('BENEFIT.lm_per_9', 'Field', 'DataType', "C(1)")
* Props for the BENEFIT.ismaingrp field.
DBSetProp('BENEFIT.ismaingrp', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.ismaingrp', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.ismaingrp', 'Field', 'UpdateName', 'tims!category.ismaingrp')
DBSetProp('BENEFIT.ismaingrp', 'Field', 'DataType', "L")
* Props for the BENEFIT.issubmain field.
DBSetProp('BENEFIT.issubmain', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.issubmain', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.issubmain', 'Field', 'UpdateName', 'tims!category.issubmain')
DBSetProp('BENEFIT.issubmain', 'Field', 'DataType', "L")
* Props for the BENEFIT.item_grp field.
DBSetProp('BENEFIT.item_grp', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.item_grp', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.item_grp', 'Field', 'UpdateName', 'tims!category.item_grp')
DBSetProp('BENEFIT.item_grp', 'Field', 'DataType', "C(30)")
* Props for the BENEFIT.followup field.
DBSetProp('BENEFIT.followup', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.followup', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.followup', 'Field', 'UpdateName', 'tims!category.followup')
DBSetProp('BENEFIT.followup', 'Field', 'DataType', "N(3)")
* Props for the BENEFIT.period field.
DBSetProp('BENEFIT.period', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.period', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.period', 'Field', 'UpdateName', 'tims!category.period')
DBSetProp('BENEFIT.period', 'Field', 'DataType', "N(3)")
* Props for the BENEFIT.period_type field.
DBSetProp('BENEFIT.period_type', 'Field', 'KeyField', .F.)
DBSetProp('BENEFIT.period_type', 'Field', 'Updatable', .T.)
DBSetProp('BENEFIT.period_type', 'Field', 'UpdateName', 'tims!category.period_type')
DBSetProp('BENEFIT.period_type', 'Field', 'DataType', "C(1)")
ENDFUNC
 
FUNCTION MakeView_CUSTBYID
***************** View setup for CUSTBYID ***************

CREATE SQL VIEW "CUSTBYID" ; 
   AS SELECT Fund.fundcode, Fund.name AS fund_name, Member.customer_id,  Member.title,  ALLTRIM(Member.name)+" "+ALLTRIM(Member.surname) AS name,  Member.policy_no, Member.family_no, Member.no_of_pers, Member.plan_id,  Member.product, Member.sex, Member.birth_date, Member.age,  Member.effective, Member.expiry, Member.exclusion, Member.pay_fr,  Member.status, Member.pay_status FROM  tims!fund INNER JOIN tims!member    ON  Fund.fund_id = Member.fund_id WHERE Member.customer_id = ?cCust_id

DBSetProp('CUSTBYID', 'View', 'UpdateType', 1)
DBSetProp('CUSTBYID', 'View', 'WhereType', 3)
DBSetProp('CUSTBYID', 'View', 'FetchMemo', .T.)
DBSetProp('CUSTBYID', 'View', 'SendUpdates', .F.)
DBSetProp('CUSTBYID', 'View', 'UseMemoSize', 255)
DBSetProp('CUSTBYID', 'View', 'FetchSize', 100)
DBSetProp('CUSTBYID', 'View', 'MaxRecords', -1)
DBSetProp('CUSTBYID', 'View', 'Tables', 'tims!fund,tims!member')
DBSetProp('CUSTBYID', 'View', 'Prepared', .F.)
DBSetProp('CUSTBYID', 'View', 'CompareMemo', .T.)
DBSetProp('CUSTBYID', 'View', 'FetchAsNeeded', .F.)
DBSetProp('CUSTBYID', 'View', 'FetchSize', 100)
DBSetProp('CUSTBYID', 'View', 'Comment', "* ข้อมูลสมาชิก (?cCust_id)" + CHR(13) + "")
DBSetProp('CUSTBYID', 'View', 'BatchUpdateCount', 1)
DBSetProp('CUSTBYID', 'View', 'ShareConnection', .F.)

*!* Field Level Properties for CUSTBYID
* Props for the CUSTBYID.fundcode field.
DBSetProp('CUSTBYID.fundcode', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.fundcode', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYID.fundcode', 'Field', 'UpdateName', 'tims!fund.fundcode')
DBSetProp('CUSTBYID.fundcode', 'Field', 'DataType', "C(3)")
* Props for the CUSTBYID.fund_name field.
DBSetProp('CUSTBYID.fund_name', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.fund_name', 'Field', 'Updatable', .F.)
DBSetProp('CUSTBYID.fund_name', 'Field', 'UpdateName', 'tims!fund.name')
DBSetProp('CUSTBYID.fund_name', 'Field', 'DataType', "C(50)")
* Props for the CUSTBYID.customer_id field.
DBSetProp('CUSTBYID.customer_id', 'Field', 'KeyField', .T.)
DBSetProp('CUSTBYID.customer_id', 'Field', 'Updatable', .F.)
DBSetProp('CUSTBYID.customer_id', 'Field', 'UpdateName', 'tims!member.customer_id')
DBSetProp('CUSTBYID.customer_id', 'Field', 'DataType', "C(8)")
* Props for the CUSTBYID.title field.
DBSetProp('CUSTBYID.title', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.title', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYID.title', 'Field', 'UpdateName', 'tims!member.title')
DBSetProp('CUSTBYID.title', 'Field', 'DataType', "C(4)")
* Props for the CUSTBYID.name field.
DBSetProp('CUSTBYID.name', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.name', 'Field', 'Updatable', .F.)
DBSetProp('CUSTBYID.name', 'Field', 'UpdateName', 'Member.title*')
DBSetProp('CUSTBYID.name', 'Field', 'DataType', "C(121)")
* Props for the CUSTBYID.policy_no field.
DBSetProp('CUSTBYID.policy_no', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.policy_no', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYID.policy_no', 'Field', 'UpdateName', 'tims!member.policy_no')
DBSetProp('CUSTBYID.policy_no', 'Field', 'DataType', "C(30)")
* Props for the CUSTBYID.family_no field.
DBSetProp('CUSTBYID.family_no', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.family_no', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYID.family_no', 'Field', 'UpdateName', 'tims!member.family_no')
DBSetProp('CUSTBYID.family_no', 'Field', 'DataType', "I")
* Props for the CUSTBYID.no_of_pers field.
DBSetProp('CUSTBYID.no_of_pers', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.no_of_pers', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYID.no_of_pers', 'Field', 'UpdateName', 'tims!member.no_of_pers')
DBSetProp('CUSTBYID.no_of_pers', 'Field', 'DataType', "I")
* Props for the CUSTBYID.plan_id field.
DBSetProp('CUSTBYID.plan_id', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.plan_id', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYID.plan_id', 'Field', 'UpdateName', 'tims!member.plan_id')
DBSetProp('CUSTBYID.plan_id', 'Field', 'DataType', "C(8)")
* Props for the CUSTBYID.product field.
DBSetProp('CUSTBYID.product', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.product', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYID.product', 'Field', 'UpdateName', 'tims!member.product')
DBSetProp('CUSTBYID.product', 'Field', 'DataType', "C(8)")
* Props for the CUSTBYID.sex field.
DBSetProp('CUSTBYID.sex', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.sex', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYID.sex', 'Field', 'UpdateName', 'tims!member.sex')
DBSetProp('CUSTBYID.sex', 'Field', 'DataType', "C(1)")
* Props for the CUSTBYID.birth_date field.
DBSetProp('CUSTBYID.birth_date', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.birth_date', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYID.birth_date', 'Field', 'UpdateName', 'tims!member.birth_date')
DBSetProp('CUSTBYID.birth_date', 'Field', 'DataType', "D")
* Props for the CUSTBYID.age field.
DBSetProp('CUSTBYID.age', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.age', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYID.age', 'Field', 'UpdateName', 'tims!member.age')
DBSetProp('CUSTBYID.age', 'Field', 'DataType', "I")
* Props for the CUSTBYID.effective field.
DBSetProp('CUSTBYID.effective', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.effective', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYID.effective', 'Field', 'UpdateName', 'tims!member.effective')
DBSetProp('CUSTBYID.effective', 'Field', 'DataType', "T")
* Props for the CUSTBYID.expiry field.
DBSetProp('CUSTBYID.expiry', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.expiry', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYID.expiry', 'Field', 'UpdateName', 'tims!member.expiry')
DBSetProp('CUSTBYID.expiry', 'Field', 'DataType', "T")
* Props for the CUSTBYID.exclusion field.
DBSetProp('CUSTBYID.exclusion', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.exclusion', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYID.exclusion', 'Field', 'UpdateName', 'tims!member.exclusion')
DBSetProp('CUSTBYID.exclusion', 'Field', 'DataType', "M")
* Props for the CUSTBYID.pay_fr field.
DBSetProp('CUSTBYID.pay_fr', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.pay_fr', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYID.pay_fr', 'Field', 'UpdateName', 'tims!member.pay_fr')
DBSetProp('CUSTBYID.pay_fr', 'Field', 'DataType', "C(1)")
* Props for the CUSTBYID.status field.
DBSetProp('CUSTBYID.status', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.status', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYID.status', 'Field', 'UpdateName', 'tims!member.status')
DBSetProp('CUSTBYID.status', 'Field', 'DataType', "C(1)")
* Props for the CUSTBYID.pay_status field.
DBSetProp('CUSTBYID.pay_status', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYID.pay_status', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYID.pay_status', 'Field', 'UpdateName', 'tims!member.pay_status')
DBSetProp('CUSTBYID.pay_status', 'Field', 'DataType', "C(2)")
ENDFUNC
 
FUNCTION MakeView_CUSTBYFUND
***************** View setup for CUSTBYFUND ***************

CREATE SQL VIEW "CUSTBYFUND" ; 
   AS SELECT Member.customer_id,  ALLTRIM(Member.name)+" "+ALLTRIM(Member.surname) AS name,  Member.product, Member.plan_id, Member.policy_no, Member.family_no,  Member.no_of_pers, Member.title FROM  tims!fund INNER JOIN tims!member    ON  Fund.fund_id = Member.fund_id WHERE Member.fund_id = ?nFund_id ORDER BY 2

DBSetProp('CUSTBYFUND', 'View', 'UpdateType', 1)
DBSetProp('CUSTBYFUND', 'View', 'WhereType', 3)
DBSetProp('CUSTBYFUND', 'View', 'FetchMemo', .T.)
DBSetProp('CUSTBYFUND', 'View', 'SendUpdates', .F.)
DBSetProp('CUSTBYFUND', 'View', 'UseMemoSize', 255)
DBSetProp('CUSTBYFUND', 'View', 'FetchSize', 100)
DBSetProp('CUSTBYFUND', 'View', 'MaxRecords', -1)
DBSetProp('CUSTBYFUND', 'View', 'Tables', 'tims!member')
DBSetProp('CUSTBYFUND', 'View', 'Prepared', .F.)
DBSetProp('CUSTBYFUND', 'View', 'CompareMemo', .T.)
DBSetProp('CUSTBYFUND', 'View', 'FetchAsNeeded', .F.)
DBSetProp('CUSTBYFUND', 'View', 'FetchSize', 100)
DBSetProp('CUSTBYFUND', 'View', 'Comment', "")
DBSetProp('CUSTBYFUND', 'View', 'BatchUpdateCount', 1)
DBSetProp('CUSTBYFUND', 'View', 'ShareConnection', .F.)

*!* Field Level Properties for CUSTBYFUND
* Props for the CUSTBYFUND.customer_id field.
DBSetProp('CUSTBYFUND.customer_id', 'Field', 'KeyField', .T.)
DBSetProp('CUSTBYFUND.customer_id', 'Field', 'Updatable', .F.)
DBSetProp('CUSTBYFUND.customer_id', 'Field', 'UpdateName', 'tims!member.customer_id')
DBSetProp('CUSTBYFUND.customer_id', 'Field', 'DataType', "C(8)")
* Props for the CUSTBYFUND.name field.
DBSetProp('CUSTBYFUND.name', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYFUND.name', 'Field', 'Updatable', .F.)
DBSetProp('CUSTBYFUND.name', 'Field', 'UpdateName', 'Member.title*')
DBSetProp('CUSTBYFUND.name', 'Field', 'DataType', "C(121)")
* Props for the CUSTBYFUND.product field.
DBSetProp('CUSTBYFUND.product', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYFUND.product', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYFUND.product', 'Field', 'UpdateName', 'tims!member.product')
DBSetProp('CUSTBYFUND.product', 'Field', 'DataType', "C(8)")
* Props for the CUSTBYFUND.plan_id field.
DBSetProp('CUSTBYFUND.plan_id', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYFUND.plan_id', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYFUND.plan_id', 'Field', 'UpdateName', 'tims!member.plan_id')
DBSetProp('CUSTBYFUND.plan_id', 'Field', 'DataType', "C(8)")
* Props for the CUSTBYFUND.policy_no field.
DBSetProp('CUSTBYFUND.policy_no', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYFUND.policy_no', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYFUND.policy_no', 'Field', 'UpdateName', 'tims!member.policy_no')
DBSetProp('CUSTBYFUND.policy_no', 'Field', 'DataType', "C(30)")
* Props for the CUSTBYFUND.family_no field.
DBSetProp('CUSTBYFUND.family_no', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYFUND.family_no', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYFUND.family_no', 'Field', 'UpdateName', 'tims!member.family_no')
DBSetProp('CUSTBYFUND.family_no', 'Field', 'DataType', "I")
* Props for the CUSTBYFUND.no_of_pers field.
DBSetProp('CUSTBYFUND.no_of_pers', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYFUND.no_of_pers', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYFUND.no_of_pers', 'Field', 'UpdateName', 'tims!member.no_of_pers')
DBSetProp('CUSTBYFUND.no_of_pers', 'Field', 'DataType', "I")
* Props for the CUSTBYFUND.title field.
DBSetProp('CUSTBYFUND.title', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYFUND.title', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYFUND.title', 'Field', 'UpdateName', 'tims!member.title')
DBSetProp('CUSTBYFUND.title', 'Field', 'DataType', "C(4)")
ENDFUNC
 
FUNCTION MakeView_CLAIMVIEW
***************** View setup for CLAIMVIEW ***************

CREATE SQL VIEW "CLAIMVIEW" ; 
   AS SELECT Claim.notify_no, Claim.customer_id,  ALLTRIM(Member.name)+" "+ALLTRIM(Member.surname) AS fullname,  IIF(Claim.type_claim=1,"OPD","IPD") AS type_claim,  IIF(Claim.claim_type=1,"Illness","Accident") AS claim_type,  Claim.claim_id, Claim.claim_no, Claim.prov_id, Claim.admis_date,  Claim.disc_date, Claim.illness1, Claim.illness2, Claim.illness3,  Claim.scharge, Claim.sbenfpaid, Claim.sremain FROM  cims!claim INNER JOIN tims!member    ON  Claim.customer_id = Member.customer_id WHERE Claim.customer_id = ?cCustID ORDER BY Claim.customer_id, Claim.notify_no

DBSetProp('CLAIMVIEW', 'View', 'UpdateType', 1)
DBSetProp('CLAIMVIEW', 'View', 'WhereType', 3)
DBSetProp('CLAIMVIEW', 'View', 'FetchMemo', .T.)
DBSetProp('CLAIMVIEW', 'View', 'SendUpdates', .F.)
DBSetProp('CLAIMVIEW', 'View', 'UseMemoSize', 255)
DBSetProp('CLAIMVIEW', 'View', 'FetchSize', 100)
DBSetProp('CLAIMVIEW', 'View', 'MaxRecords', -1)
DBSetProp('CLAIMVIEW', 'View', 'Tables', 'cims!claim')
DBSetProp('CLAIMVIEW', 'View', 'Prepared', .F.)
DBSetProp('CLAIMVIEW', 'View', 'CompareMemo', .T.)
DBSetProp('CLAIMVIEW', 'View', 'FetchAsNeeded', .F.)
DBSetProp('CLAIMVIEW', 'View', 'FetchSize', 100)
DBSetProp('CLAIMVIEW', 'View', 'Comment', "")
DBSetProp('CLAIMVIEW', 'View', 'BatchUpdateCount', 1)
DBSetProp('CLAIMVIEW', 'View', 'ShareConnection', .F.)

*!* Field Level Properties for CLAIMVIEW
* Props for the CLAIMVIEW.notify_no field.
DBSetProp('CLAIMVIEW.notify_no', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMVIEW.notify_no', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMVIEW.notify_no', 'Field', 'UpdateName', 'cims!claim.notify_no')
DBSetProp('CLAIMVIEW.notify_no', 'Field', 'DataType', "C(10)")
* Props for the CLAIMVIEW.customer_id field.
DBSetProp('CLAIMVIEW.customer_id', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMVIEW.customer_id', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMVIEW.customer_id', 'Field', 'UpdateName', 'cims!claim.customer_id')
DBSetProp('CLAIMVIEW.customer_id', 'Field', 'DataType', "C(8)")
* Props for the CLAIMVIEW.fullname field.
DBSetProp('CLAIMVIEW.fullname', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMVIEW.fullname', 'Field', 'Updatable', .F.)
DBSetProp('CLAIMVIEW.fullname', 'Field', 'UpdateName', 'Claim.customer_id*')
DBSetProp('CLAIMVIEW.fullname', 'Field', 'DataType', "C(121)")
* Props for the CLAIMVIEW.type_claim field.
DBSetProp('CLAIMVIEW.type_claim', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMVIEW.type_claim', 'Field', 'Updatable', .F.)
DBSetProp('CLAIMVIEW.type_claim', 'Field', 'UpdateName', 'Claim.claim_id*')
DBSetProp('CLAIMVIEW.type_claim', 'Field', 'DataType', "C(3)")
* Props for the CLAIMVIEW.claim_type field.
DBSetProp('CLAIMVIEW.claim_type', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMVIEW.claim_type', 'Field', 'Updatable', .F.)
DBSetProp('CLAIMVIEW.claim_type', 'Field', 'UpdateName', 'Claim.customer_id***')
DBSetProp('CLAIMVIEW.claim_type', 'Field', 'DataType', "C(8)")
* Props for the CLAIMVIEW.claim_id field.
DBSetProp('CLAIMVIEW.claim_id', 'Field', 'KeyField', .T.)
DBSetProp('CLAIMVIEW.claim_id', 'Field', 'Updatable', .F.)
DBSetProp('CLAIMVIEW.claim_id', 'Field', 'UpdateName', 'cims!claim.claim_id')
DBSetProp('CLAIMVIEW.claim_id', 'Field', 'DataType', "C(10)")
* Props for the CLAIMVIEW.claim_no field.
DBSetProp('CLAIMVIEW.claim_no', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMVIEW.claim_no', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMVIEW.claim_no', 'Field', 'UpdateName', 'cims!claim.claim_no')
DBSetProp('CLAIMVIEW.claim_no', 'Field', 'DataType', "C(15)")
* Props for the CLAIMVIEW.prov_id field.
DBSetProp('CLAIMVIEW.prov_id', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMVIEW.prov_id', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMVIEW.prov_id', 'Field', 'UpdateName', 'cims!claim.prov_id')
DBSetProp('CLAIMVIEW.prov_id', 'Field', 'DataType', "C(8)")
* Props for the CLAIMVIEW.admis_date field.
DBSetProp('CLAIMVIEW.admis_date', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMVIEW.admis_date', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMVIEW.admis_date', 'Field', 'UpdateName', 'cims!claim.admis_date')
DBSetProp('CLAIMVIEW.admis_date', 'Field', 'DataType', "D")
* Props for the CLAIMVIEW.disc_date field.
DBSetProp('CLAIMVIEW.disc_date', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMVIEW.disc_date', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMVIEW.disc_date', 'Field', 'UpdateName', 'cims!claim.disc_date')
DBSetProp('CLAIMVIEW.disc_date', 'Field', 'DataType', "D")
* Props for the CLAIMVIEW.illness1 field.
DBSetProp('CLAIMVIEW.illness1', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMVIEW.illness1', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMVIEW.illness1', 'Field', 'UpdateName', 'cims!claim.illness1')
DBSetProp('CLAIMVIEW.illness1', 'Field', 'DataType', "C(8)")
* Props for the CLAIMVIEW.illness2 field.
DBSetProp('CLAIMVIEW.illness2', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMVIEW.illness2', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMVIEW.illness2', 'Field', 'UpdateName', 'cims!claim.illness2')
DBSetProp('CLAIMVIEW.illness2', 'Field', 'DataType', "C(8)")
* Props for the CLAIMVIEW.illness3 field.
DBSetProp('CLAIMVIEW.illness3', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMVIEW.illness3', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMVIEW.illness3', 'Field', 'UpdateName', 'cims!claim.illness3')
DBSetProp('CLAIMVIEW.illness3', 'Field', 'DataType', "C(8)")
* Props for the CLAIMVIEW.scharge field.
DBSetProp('CLAIMVIEW.scharge', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMVIEW.scharge', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMVIEW.scharge', 'Field', 'UpdateName', 'cims!claim.scharge')
DBSetProp('CLAIMVIEW.scharge', 'Field', 'DataType', "Y")
* Props for the CLAIMVIEW.sbenfpaid field.
DBSetProp('CLAIMVIEW.sbenfpaid', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMVIEW.sbenfpaid', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMVIEW.sbenfpaid', 'Field', 'UpdateName', 'cims!claim.sbenfpaid')
DBSetProp('CLAIMVIEW.sbenfpaid', 'Field', 'DataType', "Y")
* Props for the CLAIMVIEW.sremain field.
DBSetProp('CLAIMVIEW.sremain', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMVIEW.sremain', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMVIEW.sremain', 'Field', 'UpdateName', 'cims!claim.sremain')
DBSetProp('CLAIMVIEW.sremain', 'Field', 'DataType', "Y")
ENDFUNC
 
FUNCTION MakeView_CLAIMBYCUST
***************** View setup for CLAIMBYCUST ***************

CREATE SQL VIEW "CLAIMBYCUST" ; 
   AS SELECT Claim.notify_no, Claim.claim_id, Claim.followup, Claim.claim_date,  Claim.customer_id, Claim.claim_no, Claim.refno, Claim.ref_date,  Claim.prov_id, Claim.admis_date, Claim.disc_date, Claim.illness1,  Claim.scharge, Claim.sbenfpaid, Claim.sremain, Claim.status,  IIF(Claim.claim_type=1,"OPD",IIF(Claim.claim_type=2,"IPD","OPD EM")) AS clm_type,  IIF(Claim.type_claim=1,"Illness","Accident") AS type_clm,  Claim.fcharge, Claim.fbenfpaid, Claim.fremain, Claim.snote,  Claim.abenfpaid, Claim.aremain FROM cims!claim WHERE Claim.customer_id = ?cCustID

DBSetProp('CLAIMBYCUST', 'View', 'UpdateType', 1)
DBSetProp('CLAIMBYCUST', 'View', 'WhereType', 3)
DBSetProp('CLAIMBYCUST', 'View', 'FetchMemo', .T.)
DBSetProp('CLAIMBYCUST', 'View', 'SendUpdates', .F.)
DBSetProp('CLAIMBYCUST', 'View', 'UseMemoSize', 255)
DBSetProp('CLAIMBYCUST', 'View', 'FetchSize', 100)
DBSetProp('CLAIMBYCUST', 'View', 'MaxRecords', -1)
DBSetProp('CLAIMBYCUST', 'View', 'Tables', 'cims!claim')
DBSetProp('CLAIMBYCUST', 'View', 'Prepared', .F.)
DBSetProp('CLAIMBYCUST', 'View', 'CompareMemo', .T.)
DBSetProp('CLAIMBYCUST', 'View', 'FetchAsNeeded', .F.)
DBSetProp('CLAIMBYCUST', 'View', 'FetchSize', 100)
DBSetProp('CLAIMBYCUST', 'View', 'Comment', "")
DBSetProp('CLAIMBYCUST', 'View', 'BatchUpdateCount', 1)
DBSetProp('CLAIMBYCUST', 'View', 'ShareConnection', .F.)

*!* Field Level Properties for CLAIMBYCUST
* Props for the CLAIMBYCUST.notify_no field.
DBSetProp('CLAIMBYCUST.notify_no', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.notify_no', 'Field', 'Updatable', .F.)
DBSetProp('CLAIMBYCUST.notify_no', 'Field', 'UpdateName', 'cims!claim.notify_no')
DBSetProp('CLAIMBYCUST.notify_no', 'Field', 'DataType', "C(10)")
* Props for the CLAIMBYCUST.claim_id field.
DBSetProp('CLAIMBYCUST.claim_id', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.claim_id', 'Field', 'Updatable', .F.)
DBSetProp('CLAIMBYCUST.claim_id', 'Field', 'UpdateName', 'cims!claim.claim_id')
DBSetProp('CLAIMBYCUST.claim_id', 'Field', 'DataType', "C(10)")
* Props for the CLAIMBYCUST.followup field.
DBSetProp('CLAIMBYCUST.followup', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.followup', 'Field', 'Updatable', .F.)
DBSetProp('CLAIMBYCUST.followup', 'Field', 'UpdateName', 'cims!claim.followup')
DBSetProp('CLAIMBYCUST.followup', 'Field', 'DataType', "L")
* Props for the CLAIMBYCUST.claim_date field.
DBSetProp('CLAIMBYCUST.claim_date', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.claim_date', 'Field', 'Updatable', .F.)
DBSetProp('CLAIMBYCUST.claim_date', 'Field', 'UpdateName', 'cims!claim.claim_date')
DBSetProp('CLAIMBYCUST.claim_date', 'Field', 'DataType', "T")
* Props for the CLAIMBYCUST.customer_id field.
DBSetProp('CLAIMBYCUST.customer_id', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.customer_id', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMBYCUST.customer_id', 'Field', 'UpdateName', 'cims!claim.customer_id')
DBSetProp('CLAIMBYCUST.customer_id', 'Field', 'DataType', "C(8)")
* Props for the CLAIMBYCUST.claim_no field.
DBSetProp('CLAIMBYCUST.claim_no', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.claim_no', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMBYCUST.claim_no', 'Field', 'UpdateName', 'cims!claim.claim_no')
DBSetProp('CLAIMBYCUST.claim_no', 'Field', 'DataType', "C(15)")
* Props for the CLAIMBYCUST.refno field.
DBSetProp('CLAIMBYCUST.refno', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.refno', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMBYCUST.refno', 'Field', 'UpdateName', 'cims!claim.refno')
DBSetProp('CLAIMBYCUST.refno', 'Field', 'DataType', "C(10)")
* Props for the CLAIMBYCUST.ref_date field.
DBSetProp('CLAIMBYCUST.ref_date', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.ref_date', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMBYCUST.ref_date', 'Field', 'UpdateName', 'cims!claim.ref_date')
DBSetProp('CLAIMBYCUST.ref_date', 'Field', 'DataType', "T")
* Props for the CLAIMBYCUST.prov_id field.
DBSetProp('CLAIMBYCUST.prov_id', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.prov_id', 'Field', 'Updatable', .F.)
DBSetProp('CLAIMBYCUST.prov_id', 'Field', 'UpdateName', 'cims!claim.prov_id')
DBSetProp('CLAIMBYCUST.prov_id', 'Field', 'DataType', "C(8)")
* Props for the CLAIMBYCUST.admis_date field.
DBSetProp('CLAIMBYCUST.admis_date', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.admis_date', 'Field', 'Updatable', .F.)
DBSetProp('CLAIMBYCUST.admis_date', 'Field', 'UpdateName', 'cims!claim.admis_date')
DBSetProp('CLAIMBYCUST.admis_date', 'Field', 'DataType', "D")
* Props for the CLAIMBYCUST.disc_date field.
DBSetProp('CLAIMBYCUST.disc_date', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.disc_date', 'Field', 'Updatable', .F.)
DBSetProp('CLAIMBYCUST.disc_date', 'Field', 'UpdateName', 'cims!claim.disc_date')
DBSetProp('CLAIMBYCUST.disc_date', 'Field', 'DataType', "D")
* Props for the CLAIMBYCUST.illness1 field.
DBSetProp('CLAIMBYCUST.illness1', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.illness1', 'Field', 'Updatable', .F.)
DBSetProp('CLAIMBYCUST.illness1', 'Field', 'UpdateName', 'cims!claim.illness1')
DBSetProp('CLAIMBYCUST.illness1', 'Field', 'DataType', "C(8)")
* Props for the CLAIMBYCUST.scharge field.
DBSetProp('CLAIMBYCUST.scharge', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.scharge', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMBYCUST.scharge', 'Field', 'UpdateName', 'cims!claim.scharge')
DBSetProp('CLAIMBYCUST.scharge', 'Field', 'DataType', "Y")
* Props for the CLAIMBYCUST.sbenfpaid field.
DBSetProp('CLAIMBYCUST.sbenfpaid', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.sbenfpaid', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMBYCUST.sbenfpaid', 'Field', 'UpdateName', 'cims!claim.sbenfpaid')
DBSetProp('CLAIMBYCUST.sbenfpaid', 'Field', 'DataType', "Y")
* Props for the CLAIMBYCUST.sremain field.
DBSetProp('CLAIMBYCUST.sremain', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.sremain', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMBYCUST.sremain', 'Field', 'UpdateName', 'cims!claim.sremain')
DBSetProp('CLAIMBYCUST.sremain', 'Field', 'DataType', "Y")
* Props for the CLAIMBYCUST.status field.
DBSetProp('CLAIMBYCUST.status', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.status', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMBYCUST.status', 'Field', 'UpdateName', 'cims!claim.status')
DBSetProp('CLAIMBYCUST.status', 'Field', 'DataType', "C(3)")
* Props for the CLAIMBYCUST.clm_type field.
DBSetProp('CLAIMBYCUST.clm_type', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.clm_type', 'Field', 'Updatable', .F.)
DBSetProp('CLAIMBYCUST.clm_type', 'Field', 'UpdateName', '')
DBSetProp('CLAIMBYCUST.clm_type', 'Field', 'DataType', "C(6)")
* Props for the CLAIMBYCUST.type_clm field.
DBSetProp('CLAIMBYCUST.type_clm', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.type_clm', 'Field', 'Updatable', .F.)
DBSetProp('CLAIMBYCUST.type_clm', 'Field', 'UpdateName', '')
DBSetProp('CLAIMBYCUST.type_clm', 'Field', 'DataType', "C(8)")
* Props for the CLAIMBYCUST.fcharge field.
DBSetProp('CLAIMBYCUST.fcharge', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.fcharge', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMBYCUST.fcharge', 'Field', 'UpdateName', 'cims!claim.fcharge')
DBSetProp('CLAIMBYCUST.fcharge', 'Field', 'DataType', "Y")
* Props for the CLAIMBYCUST.fbenfpaid field.
DBSetProp('CLAIMBYCUST.fbenfpaid', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.fbenfpaid', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMBYCUST.fbenfpaid', 'Field', 'UpdateName', 'cims!claim.fbenfpaid')
DBSetProp('CLAIMBYCUST.fbenfpaid', 'Field', 'DataType', "Y")
* Props for the CLAIMBYCUST.fremain field.
DBSetProp('CLAIMBYCUST.fremain', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.fremain', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMBYCUST.fremain', 'Field', 'UpdateName', 'cims!claim.fremain')
DBSetProp('CLAIMBYCUST.fremain', 'Field', 'DataType', "Y")
* Props for the CLAIMBYCUST.snote field.
DBSetProp('CLAIMBYCUST.snote', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.snote', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMBYCUST.snote', 'Field', 'UpdateName', 'cims!claim.snote')
DBSetProp('CLAIMBYCUST.snote', 'Field', 'DataType', "M")
* Props for the CLAIMBYCUST.abenfpaid field.
DBSetProp('CLAIMBYCUST.abenfpaid', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.abenfpaid', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMBYCUST.abenfpaid', 'Field', 'UpdateName', 'cims!claim.abenfpaid')
DBSetProp('CLAIMBYCUST.abenfpaid', 'Field', 'DataType', "Y")
* Props for the CLAIMBYCUST.aremain field.
DBSetProp('CLAIMBYCUST.aremain', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMBYCUST.aremain', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMBYCUST.aremain', 'Field', 'UpdateName', 'cims!claim.aremain')
DBSetProp('CLAIMBYCUST.aremain', 'Field', 'DataType', "Y")
ENDFUNC
 
FUNCTION MakeView_CLAIMLBYCUST
***************** View setup for CLAIMLBYCUST ***************

CREATE SQL VIEW "CLAIMLBYCUST" ; 
   AS SELECT Claim_line.claim_id, Claim_line.cat_id, Claim_line.cat_code,  Claim_line.description, Claim_line.service_type, Claim_line.serv_cover,  Claim_line.benf_cover, Claim_line.service_used,  Claim_line.benefit_paid, Claim_line.sadmis,  Claim_line.scharge, Claim_line.spaid, Claim_line.sremain,  Claim_line.total_fee FROM  cims!claim INNER JOIN cims!claim_line    ON  Claim.claim_id = Claim_line.claim_id WHERE Claim.customer_id = ?cCustID

DBSetProp('CLAIMLBYCUST', 'View', 'UpdateType', 1)
DBSetProp('CLAIMLBYCUST', 'View', 'WhereType', 3)
DBSetProp('CLAIMLBYCUST', 'View', 'FetchMemo', .T.)
DBSetProp('CLAIMLBYCUST', 'View', 'SendUpdates', .F.)
DBSetProp('CLAIMLBYCUST', 'View', 'UseMemoSize', 255)
DBSetProp('CLAIMLBYCUST', 'View', 'FetchSize', 100)
DBSetProp('CLAIMLBYCUST', 'View', 'MaxRecords', -1)
DBSetProp('CLAIMLBYCUST', 'View', 'Tables', 'cims!claim_line')
DBSetProp('CLAIMLBYCUST', 'View', 'Prepared', .F.)
DBSetProp('CLAIMLBYCUST', 'View', 'CompareMemo', .T.)
DBSetProp('CLAIMLBYCUST', 'View', 'FetchAsNeeded', .F.)
DBSetProp('CLAIMLBYCUST', 'View', 'FetchSize', 100)
DBSetProp('CLAIMLBYCUST', 'View', 'Comment', "")
DBSetProp('CLAIMLBYCUST', 'View', 'BatchUpdateCount', 1)
DBSetProp('CLAIMLBYCUST', 'View', 'ShareConnection', .F.)

*!* Field Level Properties for CLAIMLBYCUST
* Props for the CLAIMLBYCUST.claim_id field.
DBSetProp('CLAIMLBYCUST.claim_id', 'Field', 'KeyField', .T.)
DBSetProp('CLAIMLBYCUST.claim_id', 'Field', 'Updatable', .F.)
DBSetProp('CLAIMLBYCUST.claim_id', 'Field', 'UpdateName', 'cims!claim_line.claim_id')
DBSetProp('CLAIMLBYCUST.claim_id', 'Field', 'DataType', "C(10)")
* Props for the CLAIMLBYCUST.cat_id field.
DBSetProp('CLAIMLBYCUST.cat_id', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMLBYCUST.cat_id', 'Field', 'Updatable', .F.)
DBSetProp('CLAIMLBYCUST.cat_id', 'Field', 'UpdateName', 'cims!claim_line.cat_id')
DBSetProp('CLAIMLBYCUST.cat_id', 'Field', 'DataType', "C(8)")
* Props for the CLAIMLBYCUST.cat_code field.
DBSetProp('CLAIMLBYCUST.cat_code', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMLBYCUST.cat_code', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMLBYCUST.cat_code', 'Field', 'UpdateName', 'cims!claim_line.cat_code')
DBSetProp('CLAIMLBYCUST.cat_code', 'Field', 'DataType', "C(10)")
* Props for the CLAIMLBYCUST.description field.
DBSetProp('CLAIMLBYCUST.description', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMLBYCUST.description', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMLBYCUST.description', 'Field', 'UpdateName', 'cims!claim_line.description')
DBSetProp('CLAIMLBYCUST.description', 'Field', 'DataType', "C(40)")
* Props for the CLAIMLBYCUST.service_type field.
DBSetProp('CLAIMLBYCUST.service_type', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMLBYCUST.service_type', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMLBYCUST.service_type', 'Field', 'UpdateName', 'cims!claim_line.service_type')
DBSetProp('CLAIMLBYCUST.service_type', 'Field', 'DataType', "C(1)")
* Props for the CLAIMLBYCUST.serv_cover field.
DBSetProp('CLAIMLBYCUST.serv_cover', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMLBYCUST.serv_cover', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMLBYCUST.serv_cover', 'Field', 'UpdateName', 'cims!claim_line.serv_cover')
DBSetProp('CLAIMLBYCUST.serv_cover', 'Field', 'DataType', "N(3)")
* Props for the CLAIMLBYCUST.benf_cover field.
DBSetProp('CLAIMLBYCUST.benf_cover', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMLBYCUST.benf_cover', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMLBYCUST.benf_cover', 'Field', 'UpdateName', 'cims!claim_line.benf_cover')
DBSetProp('CLAIMLBYCUST.benf_cover', 'Field', 'DataType', "Y")
* Props for the CLAIMLBYCUST.service_used field.
DBSetProp('CLAIMLBYCUST.service_used', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMLBYCUST.service_used', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMLBYCUST.service_used', 'Field', 'UpdateName', 'cims!claim_line.service_used')
DBSetProp('CLAIMLBYCUST.service_used', 'Field', 'DataType', "N(3)")
* Props for the CLAIMLBYCUST.benefit_paid field.
DBSetProp('CLAIMLBYCUST.benefit_paid', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMLBYCUST.benefit_paid', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMLBYCUST.benefit_paid', 'Field', 'UpdateName', 'cims!claim_line.benefit_paid')
DBSetProp('CLAIMLBYCUST.benefit_paid', 'Field', 'DataType', "Y")
* Props for the CLAIMLBYCUST.sadmis field.
DBSetProp('CLAIMLBYCUST.sadmis', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMLBYCUST.sadmis', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMLBYCUST.sadmis', 'Field', 'UpdateName', 'cims!claim_line.sadmis')
DBSetProp('CLAIMLBYCUST.sadmis', 'Field', 'DataType', "N(3)")
* Props for the CLAIMLBYCUST.scharge field.
DBSetProp('CLAIMLBYCUST.scharge', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMLBYCUST.scharge', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMLBYCUST.scharge', 'Field', 'UpdateName', 'cims!claim_line.scharge')
DBSetProp('CLAIMLBYCUST.scharge', 'Field', 'DataType', "Y")
* Props for the CLAIMLBYCUST.spaid field.
DBSetProp('CLAIMLBYCUST.spaid', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMLBYCUST.spaid', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMLBYCUST.spaid', 'Field', 'UpdateName', 'cims!claim_line.spaid')
DBSetProp('CLAIMLBYCUST.spaid', 'Field', 'DataType', "Y")
* Props for the CLAIMLBYCUST.sremain field.
DBSetProp('CLAIMLBYCUST.sremain', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMLBYCUST.sremain', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMLBYCUST.sremain', 'Field', 'UpdateName', 'cims!claim_line.sremain')
DBSetProp('CLAIMLBYCUST.sremain', 'Field', 'DataType', "Y")
* Props for the CLAIMLBYCUST.total_fee field.
DBSetProp('CLAIMLBYCUST.total_fee', 'Field', 'KeyField', .F.)
DBSetProp('CLAIMLBYCUST.total_fee', 'Field', 'Updatable', .T.)
DBSetProp('CLAIMLBYCUST.total_fee', 'Field', 'UpdateName', 'cims!claim_line.total_fee')
DBSetProp('CLAIMLBYCUST.total_fee', 'Field', 'DataType', "N(6,2)")
ENDFUNC
 
FUNCTION MakeView_FAXCLAIM
***************** View setup for FAXCLAIM ***************

CREATE SQL VIEW "FAXCLAIM" ; 
   AS SELECT Claim.notify_no, Claim.customer_id, Claim.prov_id,  Claim.admis_date, Claim.disc_date, Claim.an_no, Claim.hn_no, Claim.plan,  Claim_line.description, Claim_line.service_type, Claim_line.fadmis,  Claim_line.fcharge, Claim_line.fpaid, Claim_line.fremain, Claim.claim_id,  Claim.fax_by FROM  cims!claim INNER JOIN cims!claim_line    ON  Claim.claim_id = Claim_line.claim_id WHERE Claim.notify_no = ?lcNotifyNO

DBSetProp('FAXCLAIM', 'View', 'UpdateType', 1)
DBSetProp('FAXCLAIM', 'View', 'WhereType', 3)
DBSetProp('FAXCLAIM', 'View', 'FetchMemo', .T.)
DBSetProp('FAXCLAIM', 'View', 'SendUpdates', .F.)
DBSetProp('FAXCLAIM', 'View', 'UseMemoSize', 255)
DBSetProp('FAXCLAIM', 'View', 'FetchSize', 100)
DBSetProp('FAXCLAIM', 'View', 'MaxRecords', -1)
DBSetProp('FAXCLAIM', 'View', 'Tables', 'cims!claim')
DBSetProp('FAXCLAIM', 'View', 'Prepared', .F.)
DBSetProp('FAXCLAIM', 'View', 'CompareMemo', .T.)
DBSetProp('FAXCLAIM', 'View', 'FetchAsNeeded', .F.)
DBSetProp('FAXCLAIM', 'View', 'FetchSize', 100)
DBSetProp('FAXCLAIM', 'View', 'Comment', "")
DBSetProp('FAXCLAIM', 'View', 'BatchUpdateCount', 1)
DBSetProp('FAXCLAIM', 'View', 'ShareConnection', .F.)

*!* Field Level Properties for FAXCLAIM
* Props for the FAXCLAIM.notify_no field.
DBSetProp('FAXCLAIM.notify_no', 'Field', 'KeyField', .F.)
DBSetProp('FAXCLAIM.notify_no', 'Field', 'Updatable', .T.)
DBSetProp('FAXCLAIM.notify_no', 'Field', 'UpdateName', 'cims!claim.notify_no')
DBSetProp('FAXCLAIM.notify_no', 'Field', 'DataType', "C(10)")
* Props for the FAXCLAIM.customer_id field.
DBSetProp('FAXCLAIM.customer_id', 'Field', 'KeyField', .F.)
DBSetProp('FAXCLAIM.customer_id', 'Field', 'Updatable', .T.)
DBSetProp('FAXCLAIM.customer_id', 'Field', 'UpdateName', 'cims!claim.customer_id')
DBSetProp('FAXCLAIM.customer_id', 'Field', 'DataType', "C(8)")
* Props for the FAXCLAIM.prov_id field.
DBSetProp('FAXCLAIM.prov_id', 'Field', 'KeyField', .F.)
DBSetProp('FAXCLAIM.prov_id', 'Field', 'Updatable', .T.)
DBSetProp('FAXCLAIM.prov_id', 'Field', 'UpdateName', 'cims!claim.prov_id')
DBSetProp('FAXCLAIM.prov_id', 'Field', 'DataType', "C(8)")
* Props for the FAXCLAIM.admis_date field.
DBSetProp('FAXCLAIM.admis_date', 'Field', 'KeyField', .F.)
DBSetProp('FAXCLAIM.admis_date', 'Field', 'Updatable', .T.)
DBSetProp('FAXCLAIM.admis_date', 'Field', 'UpdateName', 'cims!claim.admis_date')
DBSetProp('FAXCLAIM.admis_date', 'Field', 'DataType', "D")
* Props for the FAXCLAIM.disc_date field.
DBSetProp('FAXCLAIM.disc_date', 'Field', 'KeyField', .F.)
DBSetProp('FAXCLAIM.disc_date', 'Field', 'Updatable', .T.)
DBSetProp('FAXCLAIM.disc_date', 'Field', 'UpdateName', 'cims!claim.disc_date')
DBSetProp('FAXCLAIM.disc_date', 'Field', 'DataType', "D")
* Props for the FAXCLAIM.an_no field.
DBSetProp('FAXCLAIM.an_no', 'Field', 'KeyField', .F.)
DBSetProp('FAXCLAIM.an_no', 'Field', 'Updatable', .T.)
DBSetProp('FAXCLAIM.an_no', 'Field', 'UpdateName', 'cims!claim.an_no')
DBSetProp('FAXCLAIM.an_no', 'Field', 'DataType', "C(10)")
* Props for the FAXCLAIM.hn_no field.
DBSetProp('FAXCLAIM.hn_no', 'Field', 'KeyField', .F.)
DBSetProp('FAXCLAIM.hn_no', 'Field', 'Updatable', .T.)
DBSetProp('FAXCLAIM.hn_no', 'Field', 'UpdateName', 'cims!claim.hn_no')
DBSetProp('FAXCLAIM.hn_no', 'Field', 'DataType', "C(10)")
* Props for the FAXCLAIM.plan field.
DBSetProp('FAXCLAIM.plan', 'Field', 'KeyField', .F.)
DBSetProp('FAXCLAIM.plan', 'Field', 'Updatable', .T.)
DBSetProp('FAXCLAIM.plan', 'Field', 'UpdateName', 'cims!claim.plan')
DBSetProp('FAXCLAIM.plan', 'Field', 'DataType', "C(8)")
* Props for the FAXCLAIM.description field.
DBSetProp('FAXCLAIM.description', 'Field', 'KeyField', .F.)
DBSetProp('FAXCLAIM.description', 'Field', 'Updatable', .F.)
DBSetProp('FAXCLAIM.description', 'Field', 'UpdateName', 'cims!claim_line.description')
DBSetProp('FAXCLAIM.description', 'Field', 'DataType', "C(40)")
* Props for the FAXCLAIM.service_type field.
DBSetProp('FAXCLAIM.service_type', 'Field', 'KeyField', .F.)
DBSetProp('FAXCLAIM.service_type', 'Field', 'Updatable', .F.)
DBSetProp('FAXCLAIM.service_type', 'Field', 'UpdateName', 'cims!claim_line.service_type')
DBSetProp('FAXCLAIM.service_type', 'Field', 'DataType', "C(1)")
* Props for the FAXCLAIM.fadmis field.
DBSetProp('FAXCLAIM.fadmis', 'Field', 'KeyField', .F.)
DBSetProp('FAXCLAIM.fadmis', 'Field', 'Updatable', .F.)
DBSetProp('FAXCLAIM.fadmis', 'Field', 'UpdateName', 'cims!claim_line.fadmis')
DBSetProp('FAXCLAIM.fadmis', 'Field', 'DataType', "N(3)")
* Props for the FAXCLAIM.fcharge field.
DBSetProp('FAXCLAIM.fcharge', 'Field', 'KeyField', .F.)
DBSetProp('FAXCLAIM.fcharge', 'Field', 'Updatable', .F.)
DBSetProp('FAXCLAIM.fcharge', 'Field', 'UpdateName', 'cims!claim_line.fcharge')
DBSetProp('FAXCLAIM.fcharge', 'Field', 'DataType', "Y")
* Props for the FAXCLAIM.fpaid field.
DBSetProp('FAXCLAIM.fpaid', 'Field', 'KeyField', .F.)
DBSetProp('FAXCLAIM.fpaid', 'Field', 'Updatable', .F.)
DBSetProp('FAXCLAIM.fpaid', 'Field', 'UpdateName', 'cims!claim_line.fpaid')
DBSetProp('FAXCLAIM.fpaid', 'Field', 'DataType', "Y")
* Props for the FAXCLAIM.fremain field.
DBSetProp('FAXCLAIM.fremain', 'Field', 'KeyField', .F.)
DBSetProp('FAXCLAIM.fremain', 'Field', 'Updatable', .F.)
DBSetProp('FAXCLAIM.fremain', 'Field', 'UpdateName', 'cims!claim_line.fremain')
DBSetProp('FAXCLAIM.fremain', 'Field', 'DataType', "Y")
* Props for the FAXCLAIM.claim_id field.
DBSetProp('FAXCLAIM.claim_id', 'Field', 'KeyField', .T.)
DBSetProp('FAXCLAIM.claim_id', 'Field', 'Updatable', .F.)
DBSetProp('FAXCLAIM.claim_id', 'Field', 'UpdateName', 'cims!claim.claim_id')
DBSetProp('FAXCLAIM.claim_id', 'Field', 'DataType', "C(10)")
* Props for the FAXCLAIM.fax_by field.
DBSetProp('FAXCLAIM.fax_by', 'Field', 'KeyField', .F.)
DBSetProp('FAXCLAIM.fax_by', 'Field', 'Updatable', .T.)
DBSetProp('FAXCLAIM.fax_by', 'Field', 'UpdateName', 'cims!claim.fax_by')
DBSetProp('FAXCLAIM.fax_by', 'Field', 'DataType', "C(8)")
ENDFUNC
 
FUNCTION MakeView_CUSTBYOPD
***************** View setup for CUSTBYOPD ***************

CREATE SQL VIEW "CUSTBYOPD" ; 
   AS SELECT Claim.customer_id, Claim.notify_no, Claim.notify_date,  Claim.claim_type, Claim.illness1, Claim_line.cat_code, Claim_line.fadmis,  Claim_line.fcharge, Claim_line.fpaid, Claim_line.fremain FROM  cims!claim INNER JOIN cims!claim_line    ON  Claim.claim_id = Claim_line.claim_id WHERE Claim.customer_id = ?cCustID   AND Claim.type_claim = 1   AND Claim.claim_type = 1 ORDER BY Claim_line.fadmis DESC

DBSetProp('CUSTBYOPD', 'View', 'UpdateType', 1)
DBSetProp('CUSTBYOPD', 'View', 'WhereType', 3)
DBSetProp('CUSTBYOPD', 'View', 'FetchMemo', .T.)
DBSetProp('CUSTBYOPD', 'View', 'SendUpdates', .F.)
DBSetProp('CUSTBYOPD', 'View', 'UseMemoSize', 255)
DBSetProp('CUSTBYOPD', 'View', 'FetchSize', 100)
DBSetProp('CUSTBYOPD', 'View', 'MaxRecords', -1)
DBSetProp('CUSTBYOPD', 'View', 'Tables', 'cims!claim,cims!claim_line')
DBSetProp('CUSTBYOPD', 'View', 'Prepared', .F.)
DBSetProp('CUSTBYOPD', 'View', 'CompareMemo', .T.)
DBSetProp('CUSTBYOPD', 'View', 'FetchAsNeeded', .F.)
DBSetProp('CUSTBYOPD', 'View', 'FetchSize', 100)
DBSetProp('CUSTBYOPD', 'View', 'Comment', "")
DBSetProp('CUSTBYOPD', 'View', 'BatchUpdateCount', 1)
DBSetProp('CUSTBYOPD', 'View', 'ShareConnection', .F.)

*!* Field Level Properties for CUSTBYOPD
* Props for the CUSTBYOPD.customer_id field.
DBSetProp('CUSTBYOPD.customer_id', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYOPD.customer_id', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYOPD.customer_id', 'Field', 'UpdateName', 'cims!claim.customer_id')
DBSetProp('CUSTBYOPD.customer_id', 'Field', 'DataType', "C(8)")
* Props for the CUSTBYOPD.notify_no field.
DBSetProp('CUSTBYOPD.notify_no', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYOPD.notify_no', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYOPD.notify_no', 'Field', 'UpdateName', 'cims!claim.notify_no')
DBSetProp('CUSTBYOPD.notify_no', 'Field', 'DataType', "C(10)")
* Props for the CUSTBYOPD.notify_date field.
DBSetProp('CUSTBYOPD.notify_date', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYOPD.notify_date', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYOPD.notify_date', 'Field', 'UpdateName', 'cims!claim.notify_date')
DBSetProp('CUSTBYOPD.notify_date', 'Field', 'DataType', "T")
* Props for the CUSTBYOPD.claim_type field.
DBSetProp('CUSTBYOPD.claim_type', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYOPD.claim_type', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYOPD.claim_type', 'Field', 'UpdateName', 'cims!claim.claim_type')
DBSetProp('CUSTBYOPD.claim_type', 'Field', 'DataType', "N(1)")
* Props for the CUSTBYOPD.illness1 field.
DBSetProp('CUSTBYOPD.illness1', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYOPD.illness1', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYOPD.illness1', 'Field', 'UpdateName', 'cims!claim.illness1')
DBSetProp('CUSTBYOPD.illness1', 'Field', 'DataType', "C(8)")
* Props for the CUSTBYOPD.cat_code field.
DBSetProp('CUSTBYOPD.cat_code', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYOPD.cat_code', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYOPD.cat_code', 'Field', 'UpdateName', 'cims!claim_line.cat_code')
DBSetProp('CUSTBYOPD.cat_code', 'Field', 'DataType', "C(10)")
* Props for the CUSTBYOPD.fadmis field.
DBSetProp('CUSTBYOPD.fadmis', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYOPD.fadmis', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYOPD.fadmis', 'Field', 'UpdateName', 'cims!claim_line.fadmis')
DBSetProp('CUSTBYOPD.fadmis', 'Field', 'DataType', "N(3)")
* Props for the CUSTBYOPD.fcharge field.
DBSetProp('CUSTBYOPD.fcharge', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYOPD.fcharge', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYOPD.fcharge', 'Field', 'UpdateName', 'cims!claim_line.fcharge')
DBSetProp('CUSTBYOPD.fcharge', 'Field', 'DataType', "Y")
* Props for the CUSTBYOPD.fpaid field.
DBSetProp('CUSTBYOPD.fpaid', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYOPD.fpaid', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYOPD.fpaid', 'Field', 'UpdateName', 'cims!claim_line.fpaid')
DBSetProp('CUSTBYOPD.fpaid', 'Field', 'DataType', "Y")
* Props for the CUSTBYOPD.fremain field.
DBSetProp('CUSTBYOPD.fremain', 'Field', 'KeyField', .F.)
DBSetProp('CUSTBYOPD.fremain', 'Field', 'Updatable', .T.)
DBSetProp('CUSTBYOPD.fremain', 'Field', 'UpdateName', 'cims!claim_line.fremain')
DBSetProp('CUSTBYOPD.fremain', 'Field', 'DataType', "Y")
ENDFUNC
 
FUNCTION MakeView_PERIOD
***************** View setup for PERIOD ***************

CREATE SQL VIEW "PERIOD" ; 
   AS SELECT Notify_period.customer_id, Notify_period.notify_no,  Notify_period.notify_date, Notify_period.diags, Notify_period.charge,  Notify_period.benefit, Notify_period.over, Notify_period.due FROM cims!notify_period WHERE Notify_period.customer_id = ?cCustID ORDER BY Notify_period.due

DBSetProp('PERIOD', 'View', 'UpdateType', 1)
DBSetProp('PERIOD', 'View', 'WhereType', 3)
DBSetProp('PERIOD', 'View', 'FetchMemo', .T.)
DBSetProp('PERIOD', 'View', 'SendUpdates', .T.)
DBSetProp('PERIOD', 'View', 'UseMemoSize', 255)
DBSetProp('PERIOD', 'View', 'FetchSize', 100)
DBSetProp('PERIOD', 'View', 'MaxRecords', -1)
DBSetProp('PERIOD', 'View', 'Tables', 'cims!notify_period')
DBSetProp('PERIOD', 'View', 'Prepared', .F.)
DBSetProp('PERIOD', 'View', 'CompareMemo', .T.)
DBSetProp('PERIOD', 'View', 'FetchAsNeeded', .F.)
DBSetProp('PERIOD', 'View', 'FetchSize', 100)
DBSetProp('PERIOD', 'View', 'Comment', "")
DBSetProp('PERIOD', 'View', 'BatchUpdateCount', 1)
DBSetProp('PERIOD', 'View', 'ShareConnection', .F.)

*!* Field Level Properties for PERIOD
* Props for the PERIOD.customer_id field.
DBSetProp('PERIOD.customer_id', 'Field', 'KeyField', .T.)
DBSetProp('PERIOD.customer_id', 'Field', 'Updatable', .F.)
DBSetProp('PERIOD.customer_id', 'Field', 'UpdateName', 'cims!notify_period.customer_id')
DBSetProp('PERIOD.customer_id', 'Field', 'DataType', "C(8)")
* Props for the PERIOD.notify_no field.
DBSetProp('PERIOD.notify_no', 'Field', 'KeyField', .T.)
DBSetProp('PERIOD.notify_no', 'Field', 'Updatable', .F.)
DBSetProp('PERIOD.notify_no', 'Field', 'UpdateName', 'cims!notify_period.notify_no')
DBSetProp('PERIOD.notify_no', 'Field', 'DataType', "C(10)")
* Props for the PERIOD.notify_date field.
DBSetProp('PERIOD.notify_date', 'Field', 'KeyField', .F.)
DBSetProp('PERIOD.notify_date', 'Field', 'Updatable', .F.)
DBSetProp('PERIOD.notify_date', 'Field', 'UpdateName', 'cims!notify_period.notify_date')
DBSetProp('PERIOD.notify_date', 'Field', 'DataType', "T")
* Props for the PERIOD.diags field.
DBSetProp('PERIOD.diags', 'Field', 'KeyField', .F.)
DBSetProp('PERIOD.diags', 'Field', 'Updatable', .F.)
DBSetProp('PERIOD.diags', 'Field', 'UpdateName', 'cims!notify_period.diags')
DBSetProp('PERIOD.diags', 'Field', 'DataType', "C(8)")
* Props for the PERIOD.charge field.
DBSetProp('PERIOD.charge', 'Field', 'KeyField', .F.)
DBSetProp('PERIOD.charge', 'Field', 'Updatable', .T.)
DBSetProp('PERIOD.charge', 'Field', 'UpdateName', 'cims!notify_period.charge')
DBSetProp('PERIOD.charge', 'Field', 'DataType', "Y")
* Props for the PERIOD.benefit field.
DBSetProp('PERIOD.benefit', 'Field', 'KeyField', .F.)
DBSetProp('PERIOD.benefit', 'Field', 'Updatable', .T.)
DBSetProp('PERIOD.benefit', 'Field', 'UpdateName', 'cims!notify_period.benefit')
DBSetProp('PERIOD.benefit', 'Field', 'DataType', "Y")
* Props for the PERIOD.over field.
DBSetProp('PERIOD.over', 'Field', 'KeyField', .F.)
DBSetProp('PERIOD.over', 'Field', 'Updatable', .T.)
DBSetProp('PERIOD.over', 'Field', 'UpdateName', 'cims!notify_period.over')
DBSetProp('PERIOD.over', 'Field', 'DataType', "Y")
* Props for the PERIOD.due field.
DBSetProp('PERIOD.due', 'Field', 'KeyField', .T.)
DBSetProp('PERIOD.due', 'Field', 'Updatable', .F.)
DBSetProp('PERIOD.due', 'Field', 'UpdateName', 'cims!notify_period.due')
DBSetProp('PERIOD.due', 'Field', 'DataType', "T")
ENDFUNC
 
*************** Begin Relations Setup **************

FUNCTION MakeRelation_1
ALTER TABLE 'CLAIM_LINE' ADD FOREIGN KEY TAG CLAIM_ID REFERENCES CLAIM TAG CLAIM_ID
ENDFUNC


FUNCTION MakeRelation_2
ALTER TABLE 'CLAIM_LINE_ITEMS' ADD FOREIGN KEY TAG CLAIM_CAT REFERENCES CLAIM_LINE TAG CLAIM_CAT
ENDFUNC


FUNCTION MakeRelation_3
ALTER TABLE 'CLAIM' ADD FOREIGN KEY TAG NOTIFY_NO REFERENCES NOTIFY TAG NO
ENDFUNC


FUNCTION MakeRelation_4
ALTER TABLE 'MEMBER' ADD FOREIGN KEY TAG FUND_ID REFERENCES FUND TAG FUND_ID
ENDFUNC


FUNCTION MakeRelation_5
ALTER TABLE 'SURGICAL_FEE' ADD FOREIGN KEY TAG FUND_ID REFERENCES FUND TAG FUND_ID
ENDFUNC


FUNCTION MakeRelation_6
ALTER TABLE 'PRODUCT' ADD FOREIGN KEY TAG FUND_ID REFERENCES FUND TAG FUND_ID
ENDFUNC


FUNCTION MakeRelation_7
ALTER TABLE 'CATEGORY' ADD FOREIGN KEY TAG PROD_ID REFERENCES PRODUCT TAG PROD_ID
ENDFUNC


FUNCTION MakeRelation_8
ALTER TABLE 'PLAN2CAT' ADD FOREIGN KEY TAG CAT_ID REFERENCES CATEGORY TAG CAT_ID
ENDFUNC


FUNCTION MakeRelation_9
ALTER TABLE 'PLAN' ADD FOREIGN KEY TAG PROD_ID REFERENCES PRODUCT TAG PROD_ID
ENDFUNC


FUNCTION MakeRelation_10
ALTER TABLE 'PLAN2CAT' ADD FOREIGN KEY TAG PLAN_ID REFERENCES PLAN TAG PLAN_ID
ENDFUNC


FUNCTION MakeRelation_11
ALTER TABLE 'PROD_EXCLUSION' ADD FOREIGN KEY TAG PROD_ID REFERENCES PRODUCT TAG PROD_ID
ENDFUNC


FUNCTION MakeRelation_12
ALTER TABLE 'ITEM' ADD FOREIGN KEY TAG ITEM_GRP REFERENCES ITEM_GROUP TAG GROUP_CODE
ENDFUNC


FUNCTION MakeRelation_13
ALTER TABLE 'PROV_PRICE' ADD FOREIGN KEY TAG PROV_ID REFERENCES PROVIDER TAG PROV_ID
ENDFUNC


FUNCTION MakeRelation_14
ALTER TABLE 'PROV_PRICE' ADD FOREIGN KEY TAG ITEMCODE REFERENCES ITEM TAG ITEM_CODE
ENDFUNC


FUNCTION MakeRelation_15
ALTER TABLE 'NOTIFY' ADD FOREIGN KEY TAG CUSTOMER_I REFERENCES MEMBER TAG CUSTOMER_I
ENDFUNC


FUNCTION DisplayStatus(lcMessage)
WAIT WINDOW NOWAIT lcMessage
ENDFUNC
